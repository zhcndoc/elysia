import{A as e,C as t,Ct as n,D as r,Dt as i,Et as a,G as o,J as s,K as c,N as l,O as u,Ot as d,P as f,R as p,S as m,T as h,Tt as g,U as _,V as v,_ as y,at as b,b as x,d as S,ft as C,g as w,gt as T,it as E,j as D,l as O,nt as k,p as A,tt as j,u as M,v as N,xt as P,y as ee,z as F}from"./vue.runtime.esm-bundler.BB7fvrom.js";import{t as I}from"./createLucideIcon.nO6fZ36v.js";import{t as te}from"./delete.DIZUPt-j.js";import{t as L}from"./file.B0qe36Kb.js";import{t as ne}from"./rotate-ccw.DisUFZTQ.js";import{t as re}from"./x.CoxwyA49.js";import{t as ie}from"./motion.DQ6fBwSb.js";import{t as ae}from"./AnimatePresence.vue.DArhQSJG.js";import{a as R,i as z,n as oe,r as se,t as ce}from"./SplitterResizeHandle.CsDnETQJ.js";import{_ as le,c as ue,f as de,h as fe,i as B,m as pe,n as me,r as V,s as he,t as H,u as U,v as ge,w as W}from"./Primitive.4qyR3aBo.js";import{a as _e,c as ve,d as ye,f as G,i as be,l as xe,n as Se,o as Ce,r as we,s as K,t as Te,u as Ee}from"./utils.DAkzMu79.js";import{a as De,i as Oe,n as ke,r as Ae,t as je}from"./Teleport.A0TsjQ2X.js";import{c as Me,d as Ne,l as Pe,o as Fe,s as Ie,u as q}from"./TooltipTrigger.DRgM3j47.js";import{t as J}from"./store.BhCg9eIm.js";import"./utils.Btv7ixBe.js";import{t as Y}from"./tab.CsWBb3eB.js";var Le=I(`folder-open`,[[`path`,{d:`m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2`,key:`usdka0`}]]),Re=I(`folder-tree`,[[`path`,{d:`M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z`,key:`hod4my`}],[`path`,{d:`M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z`,key:`w4yl2u`}],[`path`,{d:`M3 5a2 2 0 0 0 2 2h3`,key:`f2jnh7`}],[`path`,{d:`M3 3v13a2 2 0 0 0 2 2h3`,key:`k8epm1`}]]),ze=I(`folder`,[[`path`,{d:`M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z`,key:`1kt360`}]]),Be=I(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Ve=I(`text-cursor`,[[`path`,{d:`M17 22h-1a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h1`,key:`uvaxm9`}],[`path`,{d:`M7 22h1a4 4 0 0 0 4-4v-1`,key:`11xy8d`}],[`path`,{d:`M7 2h1a4 4 0 0 1 4 4v1`,key:`1uw06m`}]]),He=[`INPUT`,`TEXTAREA`];function Ue(e,t,n,r={}){if(!t||r.enableIgnoredElement&&He.includes(t.nodeName))return null;let{arrowKeyOptions:i=`both`,attributeName:a=`[data-reka-collection-item]`,itemsArray:o=[],loop:s=!0,dir:c=`ltr`,preventScroll:l=!0,focus:u=!1}=r,[d,f,p,m,h,g]=[e.key===`ArrowRight`,e.key===`ArrowLeft`,e.key===`ArrowUp`,e.key===`ArrowDown`,e.key===`Home`,e.key===`End`],_=p||m,v=d||f;if(!h&&!g&&(!_&&!v||i===`vertical`&&v||i===`horizontal`&&_))return null;let y=n?Array.from(n.querySelectorAll(a)):o;if(!y.length)return null;l&&e.preventDefault();let b=null;return v||_?b=We(y,t,{goForward:_?m:c===`ltr`?d:f,loop:s}):h?b=y.at(0)||null:g&&(b=y.at(-1)||null),u&&b?.focus(),b}function We(e,t,n,r=e.length){if(--r===0)return null;let i=e.indexOf(t),a=n.goForward?i+1:i-1;if(!n.loop&&(a<0||a>=e.length))return null;let o=e[(a+e.length)%e.length];return o?o.hasAttribute(`disabled`)&&o.getAttribute(`disabled`)!==`false`?We(e,o,n,r):o:null}var Ge=0;function Ke(){k(e=>{if(!fe)return;let t=document.querySelectorAll(`[data-reka-focus-guard]`);document.body.insertAdjacentElement(`afterbegin`,t[0]??qe()),document.body.insertAdjacentElement(`beforeend`,t[1]??qe()),Ge++,e(()=>{Ge===1&&document.querySelectorAll(`[data-reka-focus-guard]`).forEach(e=>e.remove()),Ge--})})}function qe(){let e=document.createElement(`span`);return e.setAttribute(`data-reka-focus-guard`,``),e.tabIndex=0,e.style.outline=`none`,e.style.opacity=`0`,e.style.position=`fixed`,e.style.pointerEvents=`none`,e}function Je(e,t){let n=T(),r=(r,i)=>{if(t.multiple&&Array.isArray(e.value))if(t.selectionBehavior===`replace`)e.value=[r],n.value=r;else{let t=e.value.findIndex(e=>i(e));t===-1?e.value=[...e.value,r]:e.value=e.value.filter((e,n)=>n!==t)}else t.selectionBehavior===`replace`?e.value={...r}:!Array.isArray(e.value)&&i(e.value)?e.value=void 0:e.value={...r};return e.value};function i(r,i,a,o){if(!n?.value||!t.multiple||!Array.isArray(e.value))return;let s=a().filter(e=>e.ref.dataset.disabled!==``).find(e=>e.ref===i)?.value;if(!s)return;let c=null;switch(r){case`prev`:case`next`:c=R(o,n.value,s);break;case`first`:c=R(o,n.value,o?.[0]);break;case`last`:c=R(o,n.value,o?.[o.length-1]);break}e.value=c}return{firstValue:n,onSelectItem:r,handleMultipleReplace:i}}function Ye(e){let t=ge(``,1e3);return{search:t,handleTypeaheadSearch:(n,r)=>{if(t.value+=n,e)e(n);else{let e=G(),n=r.map(e=>({...e,textValue:e.value?.textValue??e.ref.textContent?.trim()??``})),i=n.find(t=>t.ref===e),a=Ze(n.map(e=>e.textValue),t.value,i?.textValue),o=n.find(e=>e.textValue===a);return o&&o.ref.focus(),o?.ref}},resetTypeahead:()=>{t.value=``}}}function Xe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ze(e,t,n){let r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1,a=Xe(e,Math.max(i,0));r.length===1&&(a=a.filter(e=>e!==n));let o=a.find(e=>e.toLowerCase().startsWith(r.toLowerCase()));return o===n?void 0:o}function Qe(){let e=T();return{primitiveElement:e,currentElement:w(()=>[`#text`,`#comment`].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:he(e))}}var $e=`data-reka-collection-item`;function X(t={}){let{key:n=``,isProvider:r=!1}=t,i=`${n}CollectionProvider`,a;if(r){let e=T(new Map);a={collectionRef:T(),itemMap:e},_(i,a)}else a=e(i);let o=(e=!1)=>{let t=a.collectionRef.value;if(!t)return[];let n=Array.from(t.querySelectorAll(`[${$e}]`)),r=Array.from(a.itemMap.value.values()).sort((e,t)=>n.indexOf(e.ref)-n.indexOf(t.ref));return e?r:r.filter(e=>e.ref.dataset.disabled!==``)},s=h({name:`CollectionSlot`,setup(e,{slots:t}){let{primitiveElement:n,currentElement:r}=Qe();return j(r,()=>{a.collectionRef.value=r.value}),()=>u(me,{ref:n},t)}}),c=h({name:`CollectionItem`,inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(e,{slots:t,attrs:n}){let{primitiveElement:r,currentElement:i}=Qe();return k(t=>{if(i.value){let n=C(i.value);a.itemMap.value.set(n,{ref:i.value,value:e.value}),t(()=>a.itemMap.value.delete(n))}}),()=>u(me,{...n,[$e]:``,ref:r},t)}});return{getItems:o,reactiveItems:w(()=>Array.from(a.itemMap.value.values())),itemMapSize:w(()=>a.itemMap.value.size),CollectionSlot:s,CollectionItem:c}}var et=`rovingFocusGroup.onEntryFocus`,tt={bubbles:!1,cancelable:!0},nt={ArrowLeft:`prev`,ArrowUp:`prev`,ArrowRight:`next`,ArrowDown:`next`,PageUp:`first`,Home:`first`,PageDown:`last`,End:`last`};function rt(e,t){return t===`rtl`?e===`ArrowLeft`?`ArrowRight`:e===`ArrowRight`?`ArrowLeft`:e:e}function it(e,t,n){let r=rt(e.key,n);if(!(t===`vertical`&&[`ArrowLeft`,`ArrowRight`].includes(r))&&!(t===`horizontal`&&[`ArrowUp`,`ArrowDown`].includes(r)))return nt[r]}function at(e,t=!1){let n=G();for(let r of e)if(r===n||(r.focus({preventScroll:t}),G()!==n))return}function ot(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var[st,ct]=W(`RovingFocusGroup`),lt=h({__name:`RovingFocusGroup`,props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`entryFocus`,`update:currentTabStopId`],setup(e,{expose:r,emit:i}){let a=e,o=i,{loop:s,orientation:l,dir:u}=P(a),d=z(u),f=U(a,`currentTabStopId`,o,{defaultValue:a.defaultCurrentTabStopId,passive:a.currentTabStopId===void 0}),p=T(!1),m=T(!1),h=T(0),{getItems:g,CollectionSlot:_}=X({isProvider:!0});function y(e){let t=!m.value;if(e.currentTarget&&e.target===e.currentTarget&&t&&!p.value){let t=new CustomEvent(et,tt);if(e.currentTarget.dispatchEvent(t),o(`entryFocus`,t),!t.defaultPrevented){let e=g().map(e=>e.ref).filter(e=>e.dataset.disabled!==``);at([e.find(e=>e.getAttribute(`data-active`)===``),e.find(e=>e.getAttribute(`data-highlighted`)===``),e.find(e=>e.id===f.value),...e].filter(Boolean),a.preventScrollOnEntryFocus)}}m.value=!1}function b(){setTimeout(()=>{m.value=!1},1)}return r({getItems:g}),ct({loop:s,dir:d,orientation:l,currentTabStopId:f,onItemFocus:e=>{f.value=e},onItemShiftTab:()=>{p.value=!0},onFocusableItemAdd:()=>{h.value++},onFocusableItemRemove:()=>{h.value--}}),(e,r)=>(v(),N(n(_),null,{default:E(()=>[t(n(H),{tabindex:p.value||h.value===0?-1:0,"data-orientation":n(l),as:e.as,"as-child":e.asChild,dir:n(d),style:{outline:`none`},onMousedown:r[0]||=e=>m.value=!0,onMouseup:b,onFocus:y,onBlur:r[1]||=e=>p.value=!1},{default:E(()=>[c(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`as`,`as-child`,`dir`])]),_:3}))}}),ut=h({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let r=e,i=st(),a=V(),o=w(()=>r.tabStopId||a),s=w(()=>i.currentTabStopId.value===o.value),{getItems:l,CollectionItem:u}=X();p(()=>{r.focusable&&i.onFocusableItemAdd()}),F(()=>{r.focusable&&i.onFocusableItemRemove()});function d(e){if(e.key===`Tab`&&e.shiftKey){i.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=it(e,i.orientation.value,i.dir.value);if(t!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!r.allowShiftKey&&e.shiftKey)return;e.preventDefault();let n=[...l().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(t===`last`)n.reverse();else if(t===`prev`||t===`next`){t===`prev`&&n.reverse();let r=n.indexOf(e.currentTarget);n=i.loop.value?ot(n,r+1):n.slice(r+1)}f(()=>at(n))}}return(e,r)=>(v(),N(n(u),null,{default:E(()=>[t(n(H),{tabindex:s.value?0:-1,"data-orientation":n(i).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:r[0]||=t=>{e.focusable?n(i).onItemFocus(o.value):t.preventDefault()},onFocus:r[1]||=e=>n(i).onItemFocus(o.value),onKeydown:d},{default:E(()=>[c(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}}),dt=h({__name:`MenuAnchor`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e;return(e,i)=>(v(),N(n(Me),a(r(t)),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}});function ft(){let e=T(!1);return p(()=>{ue(`keydown`,()=>{e.value=!0},{capture:!0,passive:!0}),ue([`pointerdown`,`pointermove`],()=>{e.value=!1},{capture:!0,passive:!0})}),e}var pt=pe(ft),[Z,mt]=W([`MenuRoot`,`MenuSub`],`MenuContext`),[ht,gt]=W(`MenuRoot`),_t=h({__name:`MenuRoot`,props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:t}){let r=e,i=t,{modal:a,dir:o}=P(r),s=z(o),l=U(r,`open`,i),u=T(),d=pt();return mt({open:l,onOpenChange:e=>{l.value=e},content:u,onContentChange:e=>{u.value=e}}),gt({onClose:()=>{l.value=!1},isUsingKeyboardRef:d,dir:s,modal:a}),(e,t)=>(v(),N(n(Pe),null,{default:E(()=>[c(e.$slots,`default`)]),_:3}))}}),[vt,yt]=W(`MenuContent`),bt=h({__name:`MenuContentImpl`,props:D({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Fe}),emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`,`dismiss`],setup(e,{emit:r}){let i=e,a=r,o=Z(),s=ht(),{trapFocus:l,disableOutsidePointerEvents:u,loop:d}=P(i);Ke(),ye(u.value);let f=T(``),p=T(0),m=T(0),h=T(null),g=T(`right`),_=T(0),y=T(null),b=T(),{forwardRef:x,currentElement:S}=B(),{handleTypeaheadSearch:C}=Ye();j(S,e=>{o.onContentChange(e)}),F(()=>{window.clearTimeout(p.value)});function w(e){return g.value===h.value?.side&&ve(e,h.value?.area)}async function D(e){a(`openAutoFocus`,e),!e.defaultPrevented&&(e.preventDefault(),S.value?.focus({preventScroll:!0}))}function O(e){if(e.defaultPrevented)return;let t=e.target.closest(`[data-reka-menu-content]`)===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=e.key.length===1,i=Ue(e,G(),S.value,{loop:d.value,arrowKeyOptions:`vertical`,dir:s?.dir.value,focus:!0,attributeName:`[data-reka-collection-item]:not([data-disabled])`});if(i)return i?.focus();if(e.code===`Space`)return;let a=b.value?.getItems()??[];if(t&&(e.key===`Tab`&&e.preventDefault(),!n&&r&&C(e.key,a)),e.target!==S.value||!Te.includes(e.key))return;e.preventDefault();let o=[...a.map(e=>e.ref)];we.includes(e.key)&&o.reverse(),_e(o)}function k(e){e?.currentTarget?.contains?.(e.target)||(window.clearTimeout(p.value),f.value=``)}function A(e){if(!K(e))return;let t=e.target,n=_.value!==e.clientX;(e?.currentTarget)?.contains(t)&&n&&(g.value=e.clientX>_.value?`right`:`left`,_.value=e.clientX)}return yt({onItemEnter:e=>!!w(e),onItemLeave:e=>{w(e)||(S.value?.focus(),y.value=null)},onTriggerLeave:e=>!!w(e),searchRef:f,pointerGraceTimerRef:m,onPointerGraceIntentChange:e=>{h.value=e}}),(e,r)=>(v(),N(n(xe),{"as-child":``,trapped:n(l),onMountAutoFocus:D,onUnmountAutoFocus:r[7]||=e=>a(`closeAutoFocus`,e)},{default:E(()=>[t(n(ke),{"as-child":``,"disable-outside-pointer-events":n(u),onEscapeKeyDown:r[2]||=e=>a(`escapeKeyDown`,e),onPointerDownOutside:r[3]||=e=>a(`pointerDownOutside`,e),onFocusOutside:r[4]||=e=>a(`focusOutside`,e),onInteractOutside:r[5]||=e=>a(`interactOutside`,e),onDismiss:r[6]||=e=>a(`dismiss`)},{default:E(()=>[t(n(lt),{ref_key:`rovingFocusGroupRef`,ref:b,"current-tab-stop-id":y.value,"onUpdate:currentTabStopId":r[0]||=e=>y.value=e,"as-child":``,orientation:`vertical`,dir:n(s).dir.value,loop:n(d),onEntryFocus:r[1]||=e=>{a(`entryFocus`,e),n(s).isUsingKeyboardRef.value||e.preventDefault()}},{default:E(()=>[t(n(Ie),{ref:n(x),role:`menu`,as:e.as,"as-child":e.asChild,"aria-orientation":`vertical`,"data-reka-menu-content":``,"data-state":n(Ce)(n(o).open.value),dir:n(s).dir.value,side:e.side,"side-offset":e.sideOffset,align:e.align,"align-offset":e.alignOffset,"avoid-collisions":e.avoidCollisions,"collision-boundary":e.collisionBoundary,"collision-padding":e.collisionPadding,"arrow-padding":e.arrowPadding,"prioritize-position":e.prioritizePosition,"position-strategy":e.positionStrategy,"update-position-strategy":e.updatePositionStrategy,sticky:e.sticky,"hide-when-detached":e.hideWhenDetached,reference:e.reference,onKeydown:O,onBlur:k,onPointermove:A},{default:E(()=>[c(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`,`dir`,`side`,`side-offset`,`align`,`align-offset`,`avoid-collisions`,`collision-boundary`,`collision-padding`,`arrow-padding`,`prioritize-position`,`position-strategy`,`update-position-strategy`,`sticky`,`hide-when-detached`,`reference`])]),_:3},8,[`current-tab-stop-id`,`dir`,`loop`])]),_:3},8,[`disable-outside-pointer-events`])]),_:3},8,[`trapped`]))}}),xt=h({inheritAttrs:!1,__name:`MenuItemImpl`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let r=e,i=vt(),{forwardRef:a}=B(),{CollectionItem:o}=X(),s=T(!1);async function u(e){e.defaultPrevented||K(e)&&(r.disabled?i.onItemLeave(e):i.onItemEnter(e)||e.currentTarget?.focus({preventScroll:!0}))}async function d(e){await f(),!e.defaultPrevented&&K(e)&&i.onItemLeave(e)}return(e,r)=>(v(),N(n(o),{value:{textValue:e.textValue}},{default:E(()=>[t(n(H),l({ref:n(a),role:`menuitem`,tabindex:`-1`},e.$attrs,{as:e.as,"as-child":e.asChild,"aria-disabled":e.disabled||void 0,"data-disabled":e.disabled?``:void 0,"data-highlighted":s.value?``:void 0,onPointermove:u,onPointerleave:d,onFocus:r[0]||=async t=>{await f(),!(t.defaultPrevented||e.disabled)&&(s.value=!0)},onBlur:r[1]||=async e=>{await f(),!e.defaultPrevented&&(s.value=!1)}}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16,[`as`,`as-child`,`aria-disabled`,`data-disabled`,`data-highlighted`])]),_:3},8,[`value`]))}}),St=h({__name:`MenuItem`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(e,{emit:t}){let r=e,i=t,{forwardRef:a,currentElement:o}=B(),s=ht(),u=vt(),d=T(!1);async function p(){let e=o.value;if(!r.disabled&&e){let e=new CustomEvent(Se,{bubbles:!0,cancelable:!0});i(`select`,e),await f(),e.defaultPrevented?d.value=!1:s.onClose()}}return(e,t)=>(v(),N(xt,l(r,{ref:n(a),onClick:p,onPointerdown:t[0]||=()=>{d.value=!0},onPointerup:t[1]||=async e=>{await f(),!e.defaultPrevented&&(d.value||e.currentTarget?.click())},onKeydown:t[2]||=async t=>{let r=n(u).searchRef.value!==``;e.disabled||r&&t.key===` `||n(be).includes(t.key)&&(t.currentTarget.click(),t.preventDefault())}}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}}),Ct=h({__name:`MenuRootContentModal`,props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=e,i=t,a=q(r,i),o=Z(),{forwardRef:s,currentElement:u}=B();return Ee(u),(e,t)=>(v(),N(bt,l(n(a),{ref:n(s),"trap-focus":n(o).open.value,"disable-outside-pointer-events":n(o).open.value,"disable-outside-scroll":!0,onDismiss:t[0]||=e=>n(o).onOpenChange(!1),onFocusOutside:t[1]||=S(e=>i(`focusOutside`,e),[`prevent`])}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16,[`trap-focus`,`disable-outside-pointer-events`]))}}),wt=h({__name:`MenuRootContentNonModal`,props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=q(e,t),i=Z();return(e,t)=>(v(),N(bt,l(n(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:t[0]||=e=>n(i).onOpenChange(!1)}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}}),Tt=h({__name:`MenuContent`,props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=q(e,t),i=Z(),o=ht();return(e,t)=>(v(),N(n(Ae),{present:e.forceMount||n(i).open.value},{default:E(()=>[n(o).modal.value?(v(),N(Ct,a(l({key:0},{...e.$attrs,...n(r)})),{default:E(()=>[c(e.$slots,`default`)]),_:3},16)):(v(),N(wt,a(l({key:1},{...e.$attrs,...n(r)})),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),Et=h({__name:`MenuPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,i)=>(v(),N(n(je),a(r(t)),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}}),[Dt,Ot]=W(`ContextMenuRoot`),kt=h({inheritAttrs:!1,__name:`ContextMenuRoot`,props:{pressOpenDelay:{type:Number,required:!1,default:700},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:t}){let r=e,i=t,{dir:a,modal:o,pressOpenDelay:s}=P(r);B();let l=z(a),u=T(!1);return Ot({open:u,onOpenChange:e=>{u.value=e},dir:l,modal:o,triggerElement:T(),pressOpenDelay:s}),j(u,e=>{i(`update:open`,e)}),(e,t)=>(v(),N(n(_t),{open:u.value,"onUpdate:open":t[0]||=e=>u.value=e,dir:n(l),modal:n(o)},{default:E(()=>[c(e.$slots,`default`)]),_:3},8,[`open`,`dir`,`modal`]))}}),At=h({__name:`ContextMenuContent`,props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1,default:0},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},sticky:{type:String,required:!1,default:`partial`},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(e,{emit:t}){let r=q(e,t);B();let i=Dt(),a=T(!1);return(e,t)=>(v(),N(n(Tt),l(n(r),{side:`right`,"side-offset":2,align:`start`,"update-position-strategy":`always`,style:{"--reka-context-menu-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-context-menu-content-available-width":`var(--reka-popper-available-width)`,"--reka-context-menu-content-available-height":`var(--reka-popper-available-height)`,"--reka-context-menu-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-context-menu-trigger-height":`var(--reka-popper-anchor-height)`},onCloseAutoFocus:t[0]||=e=>{!e.defaultPrevented&&a.value&&e.preventDefault(),a.value=!1},onInteractOutside:t[1]||=e=>{e.detail.originalEvent.button===2&&e.target===n(i).triggerElement.value&&e.preventDefault(),!e.defaultPrevented&&!n(i).modal.value&&(a.value=!0)}}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}}),jt=h({__name:`ContextMenuItem`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(e,{emit:t}){let i=e,o=Oe(t);return B(),(e,t)=>(v(),N(n(St),a(r({...i,...n(o)})),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}}),Mt=h({__name:`ContextMenuPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,i)=>(v(),N(n(Et),a(r(t)),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}});function Nt(e){return e.pointerType!==`mouse`}var Pt=h({inheritAttrs:!1,__name:`ContextMenuTrigger`,props:{disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let{disabled:r}=P(e),{forwardRef:i,currentElement:a}=B(),o=Dt(),s=T({x:0,y:0}),u=w(()=>({getBoundingClientRect:()=>({width:0,height:0,left:s.value.x,right:s.value.x,top:s.value.y,bottom:s.value.y,...s.value})})),d=T(0);function m(){window.clearTimeout(d.value)}function h(e){s.value={x:e.clientX,y:e.clientY},o.onOpenChange(!0)}async function g(e){r.value||(await f(),e.defaultPrevented||(m(),h(e),e.preventDefault()))}async function _(e){r.value||(await f(),Nt(e)&&!e.defaultPrevented&&(m(),d.value=window.setTimeout(()=>h(e),o.pressOpenDelay.value)))}async function y(e){r.value||(await f(),Nt(e)&&!e.defaultPrevented&&m())}return p(()=>{a.value&&(o.triggerElement.value=a.value)}),(e,a)=>(v(),x(A,null,[t(n(dt),{as:`template`,reference:u.value},null,8,[`reference`]),t(n(H),l({ref:n(i),as:e.as,"as-child":e.asChild,"data-state":n(o).open.value?`open`:`closed`,"data-disabled":n(r)?``:void 0,style:{WebkitTouchCallout:`none`,pointerEvents:`auto`}},e.$attrs,{onContextmenu:g,onPointerdown:_,onPointermove:y,onPointercancel:y,onPointerup:y}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16,[`as`,`as-child`,`data-state`,`data-disabled`])],64))}}),[Q,Ft]=W(`PopoverRoot`),It=h({__name:`PopoverRoot`,props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:[`update:open`],setup(e,{emit:t}){let r=e,i=t,{modal:a}=P(r),o=U(r,`open`,i,{defaultValue:r.defaultOpen,passive:r.open===void 0});return Ft({contentId:``,triggerId:``,modal:a,open:o,onOpenChange:e=>{o.value=e},onOpenToggle:()=>{o.value=!o.value},triggerElement:T(),hasCustomAnchor:T(!1)}),(e,t)=>(v(),N(n(Pe),null,{default:E(()=>[c(e.$slots,`default`,{open:n(o),close:()=>o.value=!1})]),_:3}))}}),Lt=h({__name:`PopoverClose`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let t=e;B();let r=Q();return(e,i)=>(v(),N(n(H),{type:e.as===`button`?`button`:void 0,as:e.as,"as-child":t.asChild,onClick:i[0]||=e=>n(r).onOpenChange(!1)},{default:E(()=>[c(e.$slots,`default`)]),_:3},8,[`type`,`as`,`as-child`]))}}),Rt=h({__name:`PopoverContentImpl`,props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:r}){let i=e,a=r,o=Ne(le(i,`trapFocus`,`disableOutsidePointerEvents`)),{forwardRef:s}=B(),u=Q();return Ke(),(e,r)=>(v(),N(n(xe),{"as-child":``,loop:``,trapped:e.trapFocus,onMountAutoFocus:r[5]||=e=>a(`openAutoFocus`,e),onUnmountAutoFocus:r[6]||=e=>a(`closeAutoFocus`,e)},{default:E(()=>[t(n(ke),{"as-child":``,"disable-outside-pointer-events":e.disableOutsidePointerEvents,onPointerDownOutside:r[0]||=e=>a(`pointerDownOutside`,e),onInteractOutside:r[1]||=e=>a(`interactOutside`,e),onEscapeKeyDown:r[2]||=e=>a(`escapeKeyDown`,e),onFocusOutside:r[3]||=e=>a(`focusOutside`,e),onDismiss:r[4]||=e=>n(u).onOpenChange(!1)},{default:E(()=>[t(n(Ie),l(n(o),{id:n(u).contentId,ref:n(s),"data-state":n(u).open.value?`open`:`closed`,"aria-labelledby":n(u).triggerId,style:{"--reka-popover-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-popover-content-available-width":`var(--reka-popper-available-width)`,"--reka-popover-content-available-height":`var(--reka-popper-available-height)`,"--reka-popover-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-popover-trigger-height":`var(--reka-popper-anchor-height)`},role:`dialog`}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16,[`id`,`data-state`,`aria-labelledby`])]),_:3},8,[`disable-outside-pointer-events`])]),_:3},8,[`trapped`]))}}),zt=h({__name:`PopoverContentModal`,props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=e,i=t,a=Q(),o=T(!1);ye(!0);let s=q(r,i),{forwardRef:u,currentElement:d}=B();return Ee(d),(e,t)=>(v(),N(Rt,l(n(s),{ref:n(u),"trap-focus":n(a).open.value,"disable-outside-pointer-events":``,onCloseAutoFocus:t[0]||=S(e=>{i(`closeAutoFocus`,e),o.value||n(a).triggerElement.value?.focus()},[`prevent`]),onPointerDownOutside:t[1]||=e=>{i(`pointerDownOutside`,e);let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0;o.value=t.button===2||n},onFocusOutside:t[2]||=S(()=>{},[`prevent`])}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16,[`trap-focus`]))}}),Bt=h({__name:`PopoverContentNonModal`,props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=e,i=t,a=Q(),o=T(!1),s=T(!1),u=q(r,i);return(e,t)=>(v(),N(Rt,l(n(u),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||=e=>{i(`closeAutoFocus`,e),e.defaultPrevented||(o.value||n(a).triggerElement.value?.focus(),e.preventDefault()),o.value=!1,s.value=!1},onInteractOutside:t[1]||=async e=>{i(`interactOutside`,e),e.defaultPrevented||(o.value=!0,e.detail.originalEvent.type===`pointerdown`&&(s.value=!0));let t=e.target;n(a).triggerElement.value?.contains(t)&&e.preventDefault(),e.detail.originalEvent.type===`focusin`&&s.value&&e.preventDefault()}}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}}),Vt=h({__name:`PopoverContent`,props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=e,i=t,a=Q(),o=q(r,i),{forwardRef:s}=B();return a.contentId||=V(void 0,`reka-popover-content`),(e,t)=>(v(),N(n(Ae),{present:e.forceMount||n(a).open.value},{default:E(()=>[n(a).modal.value?(v(),N(zt,l({key:0},n(o),{ref:n(s)}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16)):(v(),N(Bt,l({key:1},n(o),{ref:n(s)}),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),Ht=h({__name:`PopoverPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,i)=>(v(),N(n(je),a(r(t)),{default:E(()=>[c(e.$slots,`default`)]),_:3},16))}}),Ut=h({__name:`PopoverTrigger`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let r=e,i=Q(),{forwardRef:a,currentElement:o}=B();return i.triggerId||=V(void 0,`reka-popover-trigger`),p(()=>{i.triggerElement.value=o.value}),(e,o)=>(v(),N(s(n(i).hasCustomAnchor.value?n(H):n(Me)),{"as-child":``},{default:E(()=>[t(n(H),{id:n(i).triggerId,ref:n(a),type:e.as===`button`?`button`:void 0,"aria-haspopup":`dialog`,"aria-expanded":n(i).open.value,"aria-controls":n(i).contentId,"data-state":n(i).open.value?`open`:`closed`,as:e.as,"as-child":r.asChild,onClick:n(i).onOpenToggle},{default:E(()=>[c(e.$slots,`default`)]),_:3},8,[`id`,`type`,`aria-expanded`,`aria-controls`,`data-state`,`as`,`as-child`,`onClick`])]),_:3}))}});function $(e){return e.reduce((e,t)=>(e.push(t),t.children&&e.push(...$(t.children)),e),[])}var[Wt,Gt]=W(`TreeRoot`),Kt=h({__name:`TreeRoot`,props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},items:{type:Array,required:!1},expanded:{type:Array,required:!1},defaultExpanded:{type:Array,required:!1},getKey:{type:Function,required:!0},getChildren:{type:Function,required:!1,default:e=>e.children},selectionBehavior:{type:String,required:!1,default:`toggle`},multiple:{type:Boolean,required:!1,skipCheck:!0},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},propagateSelect:{type:Boolean,required:!1},bubbleSelect:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`ul`}},emits:[`update:modelValue`,`update:expanded`],setup(e,{emit:r}){let i=e,a=r,{items:o,multiple:s,disabled:l,propagateSelect:u,dir:d,bubbleSelect:p}=P(i),{handleTypeaheadSearch:m}=Ye(),h=z(d),g=T(),_=T(!1),y=de(),b=U(i,`modelValue`,a,{defaultValue:i.defaultValue??(s.value?[]:void 0),passive:!0,deep:!0}),x=U(i,`expanded`,a,{defaultValue:i.defaultExpanded??[],passive:i.expanded===void 0,deep:!0}),{onSelectItem:C,handleMultipleReplace:D}=Je(b,i),O=w(()=>s.value&&Array.isArray(b.value)?b.value.map(e=>i.getKey(e)):[i.getKey(b.value??{})]);function k(e,t=1,n){return e.reduce((r,a,o)=>{let s=i.getKey(a),c=i.getChildren(a),l=x.value.includes(s),u={_id:s,value:a,index:o,level:t,parentItem:n,hasChildren:!!c,bind:{value:a,level:t,"aria-setsize":e.length,"aria-posinset":o+1}};return r.push(u),c&&l&&r.push(...k(c,t+1,a)),r},[])}let A=w(()=>{let e=i.items;return x.value.map(e=>e),k(e??[])});function j(e){if(_.value)y.trigger(e);else{let t=g.value?.getItems()??[];m(e.key,t)}}function ee(e){if(_.value)return;let t=nt[e.key];f(()=>{D(t,G(),g.value?.getItems,A.value.map(e=>e.value))})}function F(e){if(e.parentItem!=null&&Array.isArray(b.value)&&i.multiple){let t=A.value.find(t=>e.parentItem!=null&&i.getKey(t.value)===i.getKey(e.parentItem));t!=null&&(i.getChildren(t.value)?.every(e=>b.value.find(t=>i.getKey(t)===i.getKey(e)))?b.value=[...b.value,t.value]:b.value=b.value.filter(e=>i.getKey(e)!==i.getKey(t.value)),F(t))}}return Gt({modelValue:b,selectedKeys:O,onSelect:e=>{let t=t=>i.getKey(t??{})===i.getKey(e),n=i.multiple&&Array.isArray(b.value)?b.value?.findIndex(t)!==-1:void 0;if(C(e,t),i.bubbleSelect&&i.multiple&&Array.isArray(b.value)){let t=A.value.find(t=>i.getKey(t.value)===i.getKey(e));t!=null&&F(t)}if(i.propagateSelect&&i.multiple&&Array.isArray(b.value)){let t=$(i.getChildren(e)??[]);n?b.value=[...b.value].filter(e=>!t.some(t=>i.getKey(e??{})===i.getKey(t))):b.value=[...b.value,...t]}},expanded:x,onToggle(e){if(!(e&&i.getChildren(e)))return;let t=i.getKey(e)??e;x.value.includes(t)?x.value=x.value.filter(e=>e!==t):x.value=[...x.value,t]},getKey:i.getKey,getChildren:i.getChildren,items:o,expandedItems:A,disabled:l,multiple:s,dir:h,propagateSelect:u,bubbleSelect:p,isVirtual:_,virtualKeydownHook:y,handleMultipleReplace:D}),(e,r)=>(v(),N(n(lt),{ref_key:`rovingFocusGroupRef`,ref:g,"as-child":``,orientation:`vertical`,dir:n(h)},{default:E(()=>[t(n(H),{role:`tree`,as:e.as,"as-child":e.asChild,"aria-multiselectable":n(s)?!0:void 0,onKeydown:[j,M(S(ee,[`shift`]),[`up`,`down`])]},{default:E(()=>[c(e.$slots,`default`,{flattenItems:A.value,modelValue:n(b),expanded:n(x)})]),_:3},8,[`as`,`as-child`,`aria-multiselectable`,`onKeydown`])]),_:3},8,[`dir`]))}}),qt=`tree.select`,Jt=`tree.toggle`,Yt=h({inheritAttrs:!1,__name:`TreeItem`,props:{value:{type:null,required:!0},level:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`li`}},emits:[`select`,`toggle`],setup(e,{expose:r,emit:i}){let a=e,o=i,s=Wt(),{getItems:u}=X(),d=w(()=>!!s.getChildren(a.value)),f=w(()=>{let e=s.getKey(a.value);return s.expanded.value.includes(e)}),p=w(()=>{let e=s.getKey(a.value);return s.selectedKeys.value.includes(e)}),m=w(()=>{if(s.bubbleSelect.value&&d.value&&Array.isArray(s.modelValue.value)){let e=$(s.getChildren(a.value)||[]);return e.some(e=>s.modelValue.value.find(t=>s.getKey(t)===s.getKey(e)))&&!e.every(e=>s.modelValue.value.find(t=>s.getKey(t)===s.getKey(e)))}else if(s.propagateSelect.value&&p.value&&d.value&&Array.isArray(s.modelValue.value))return!$(s.getChildren(a.value)||[]).every(e=>s.modelValue.value.find(t=>s.getKey(t)===s.getKey(e)));else return});function h(e){if(d.value)if(f.value){let e=u().map(e=>e.ref),t=G(),n=e.indexOf(t),r=[...e].slice(n).find(e=>Number(e.getAttribute(`data-indent`))===a.level+1);r&&r.focus()}else x(e)}function g(e){if(f.value)x(e);else{let e=u().map(e=>e.ref),t=G(),n=e.indexOf(t),r=[...e].slice(0,n).reverse().find(e=>Number(e.getAttribute(`data-indent`))===a.level-1);r&&r.focus()}}async function _(e){o(`select`,e),!e?.defaultPrevented&&s.onSelect(a.value)}async function y(e){o(`toggle`,e),!e?.defaultPrevented&&s.onToggle(a.value)}async function b(e){e&&De(qt,_,{originalEvent:e,value:a.value,isExpanded:f.value,isSelected:p.value})}async function x(e){e&&De(Jt,y,{originalEvent:e,value:a.value,isExpanded:f.value,isSelected:p.value})}return r({isExpanded:f,isSelected:p,isIndeterminate:m,handleToggle:()=>s.onToggle(a.value),handleSelect:()=>s.onSelect(a.value)}),(e,r)=>(v(),N(n(ut),{"as-child":``,value:e.value,"allow-shift-key":``},{default:E(()=>[t(n(H),l(e.$attrs,{role:`treeitem`,as:e.as,"as-child":e.asChild,"aria-selected":p.value,"aria-expanded":d.value?f.value:void 0,"aria-level":e.level,"data-indent":e.level,"data-selected":p.value?``:void 0,"data-expanded":f.value?``:void 0,onKeydown:[M(S(b,[`self`,`prevent`]),[`enter`,`space`]),r[0]||=M(S(e=>n(s).dir.value===`ltr`?h(e):g(e),[`prevent`]),[`right`]),r[1]||=M(S(e=>n(s).dir.value===`ltr`?g(e):h(e),[`prevent`]),[`left`])],onClick:r[2]||=S(e=>{b(e),x(e)},[`stop`])}),{default:E(()=>[c(e.$slots,`default`,{isExpanded:f.value,isSelected:p.value,isIndeterminate:m.value,handleSelect:()=>n(s).onSelect(e.value),handleToggle:()=>n(s).onToggle(e.value)})]),_:3},16,[`as`,`as-child`,`aria-selected`,`aria-expanded`,`aria-level`,`data-indent`,`data-selected`,`data-expanded`,`onKeydown`])]),_:3},8,[`value`]))}}),Xt=[`disabled`],Zt=h({__name:`file-tab`,props:{index:{}},setup(e){let r=e,a=J(),o=w(()=>a.tabs.files[r.index]),s=T(o.value);j(()=>r.index,()=>{s.value=a.tabs.files[r.index]});function c(){a.tabs.files.splice(r.index,1),a.tabs.active>=a.tabs.files.length&&(a.tabs.active=a.tabs.files.length-1)}function l(e){let t=o.value,n=s.value.trim();for(;n.startsWith(`/`)||n.startsWith(`.`);)n=n.slice(1);if(n){if(n in a.fs){a.tabs.files[r.index]=t,s.value=t;return}e.currentTarget.blur(),a.fs[n]=a.fs[t],a.tabs.files[r.index]=n,delete a.fs[t]}}function u(){s.value=o.value}return(e,o)=>(v(),N(Y,{class:`group w-auto !h-6 pl-1.5 border-0 !rounded-lg`,classActive:`bg-pink-400/7.5 dark:bg-pink-400/20 text-pink-400 dark:!text-pink-300`,tip:`index.ts`,side:`bottom`,onClick:o[1]||=e=>n(a).tabs.active=r.index,active:r.index===n(a).tabs.active},{default:E(()=>[b(y(`input`,{autocomplete:`off`,autocorrect:`off`,autocapitalize:`off`,"onUpdate:modelValue":o[0]||=e=>s.value=e,onChange:l,onKeyup:[M(l,[`enter`]),M(u,[`esc`])],disabled:r.index!==n(a).tabs.active,class:g({"cursor-pointer pointer-events-none":r.index!==n(a).tabs.active}),style:i({width:`${s.value.length}ch`})},null,46,Xt),[[O,s.value]]),y(`button`,{class:g([`clicky p-0.75 mx-0.25`,{"opacity-100":r.index===n(a).tabs.active,"opacity-0 group-interact:opacity-100":r.index!==n(a).tabs.active}]),"aria-label":`Close`,onClick:S(c,[`stop`])},[t(n(re),{size:11,"stroke-width":`2`})],2)]),_:1},8,[`active`]))}}),Qt=[`autofocus`,`disabled`],$t=h({__name:`file`,props:{item:{}},setup(e){let r=e,a=J(),o=T(),s=T(!1),c=T(r.item.value.title);function u(){let e=r.item;if(!e.hasChildren){if(a.tabs.files.includes(e.value.path)){a.tabs.active=a.tabs.files.indexOf(e.value.path);return}a.tabs.files.push(e.value.path),a.tabs.active=a.tabs.files.length-1}}function p(){s.value=!0,f(()=>{o.value&&o.value.focus()})}function h(e){s.value=!1;let t=r.item.value.path.lastIndexOf(`/`)===-1?``:r.item.value.path.slice(0,r.item.value.path.lastIndexOf(`/`)),n=c.value.trim(),i=r.item.value.title;for(;n.startsWith(`/`)||n.startsWith(`.`);)n=n.slice(1);if(!n)return;if(n in a.fs){c.value=i;return}e.currentTarget.blur();let o=r.item.value.path,l=t?`${t}/${n}`:n;a.fs[l]=a.fs[o],delete a.fs[o]}function _(){if(r.item.hasChildren){let e=Object.keys(a.fs).filter(e=>e.startsWith(r.item.value.path+`/`));for(let t of e){let e=a.tabs.files.indexOf(t);e!==-1&&(a.tabs.files.splice(e,1),a.tabs.active>=e&&(a.tabs.active=Math.max(0,a.tabs.active-1))),delete a.fs[t]}}let e=r.item.value.path,t=a.tabs.files.indexOf(e);t!==-1&&(a.tabs.files.splice(t,1),a.tabs.active>=t&&(a.tabs.active=Math.max(0,a.tabs.active-1))),delete a.fs[e]}function S(){s.value=!1,c.value=r.item.value.title}return(r,f)=>(v(),N(n(kt),null,{default:E(()=>[s.value?(v(),x(`div`,{key:0,class:g([`clicky flex items-center gap-1.5 px-1.5 py-0.5 interact:text-pink-500 interact:dark:text-pink-300 interact:bg-pink-500/6.25 interact:dark:bg-pink-300/10 rounded-lg outline-none cursor-pointer overflow-x-auto`,{"text-pink-500 dark:text-pink-300 bg-pink-500/6.25 dark:bg-pink-300/10":n(a).tabs.files[n(a).tabs.active]===e.item.value.path}])},[e.item.hasChildren?(v(),N(n(Le),{key:0,class:`size-3 sm:size-3.5 min-w-3 sm:min-w-3.5`})):(v(),N(n(L),{key:1,class:`size-3 sm:size-3.5 min-w-3 sm:min-w-3.5`})),b(y(`input`,{ref_key:`input`,ref:o,autocomplete:`off`,autocorrect:`off`,autocapitalize:`off`,"onUpdate:modelValue":f[0]||=e=>c.value=e,onChange:h,onKeyup:[M(h,[`enter`]),M(S,[`esc`])],onBlur:h,autofocus:s.value,class:g({"pointer-events-none":!s.value}),disabled:!s.value,style:i({width:`${c.value.length}ch`})},null,46,Qt),[[O,c.value]])],2)):(v(),N(n(Pt),{key:1},{default:E(()=>[t(n(Yt),l({style:{"margin-left":`${(e.item.level-1)*.5}rem`}},e.item.bind,{class:[`clicky flex flex-1 items-center gap-1.5 px-1.5 py-0.5 interact:text-pink-500 interact:dark:text-pink-300 interact:bg-pink-500/6.25 interact:dark:bg-pink-300/10 rounded-lg outline-none cursor-pointer overflow-x-auto`,{"text-pink-500 dark:text-pink-300 bg-pink-500/6.25 dark:bg-pink-300/10":n(a).tabs.files[n(a).tabs.active]===e.item.value.path}],onSelect:u}),{default:E(({isExpanded:t})=>[e.item.hasChildren?(v(),x(A,{key:0},[t?(v(),N(n(Le),{key:0,class:`size-2.5 sm:size-3.5 min-w-2.5 sm:min-w-3.5`})):(v(),N(n(ze),{key:1,class:`size-3 sm:size-3.5 min-w-3 sm:min-w-3.5`}))],64)):(v(),N(n(L),{key:1,class:`size-3 sm:size-3.5 min-w-3 sm:min-w-3.5`})),y(`p`,null,d(e.item.value.title),1)]),_:1},16,[`style`,`class`])]),_:1})),t(n(Mt),null,{default:E(()=>[t(n(At),{class:`z-50`},{default:E(()=>[t(n(ie).aside,{initial:{opacity:0,scale:.9,translateY:4},animate:{opacity:1,scale:1,translateY:0},exit:{opacity:0,scale:.9,translateY:4},class:`flex flex-col gap-0.5 w-36 text-xs p-1 bg-white/65 dark:bg-gray-700/55 rounded-lg border dark:border-gray-600/75 backdrop-blur-xs origin-top shadow-lg`},{default:E(()=>[t(n(jt),{value:`rename`,class:`flex items-center px-1 py-0.5 interact:text-pink-500 interact:dark:text-pink-300 interact:bg-pink-500/6.25 interact:dark:bg-pink-300/10 outline-none`,onClick:p},{default:E(()=>[t(n(Ve),{class:`size-3 mr-1.5`}),f[1]||=m(` Rename `,-1)]),_:1}),t(n(jt),{value:`delete`,class:`flex items-center px-1 py-0.5 interact:text-pink-500 interact:dark:text-pink-300 interact:bg-pink-500/6.25 interact:dark:bg-pink-300/10 outline-none`,onClick:_},{default:E(()=>[t(n(te),{class:`size-3 mr-1.5`}),f[2]||=m(` Delete `,-1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});function en(e){let t=Object.keys(e).map(e=>e.replace(/^\.\//,``));function n(e,t,r=``){if(t.length===0)return;let[i,...a]=t,o=r?`${r}/${i}`:i,s=e.find(e=>e.title===i);s||(s={title:i,path:o},e.push(s)),a.length>0&&(s.children??=[],n(s.children,a,o))}let r=[];for(let e of t)n(r,e.split(`/`));return r.sort((e,t)=>e.title.localeCompare(t.title)),r}var tn=h({__name:`file-tree`,setup(e){let t=J(),r=w(()=>en(t.fs));return(e,t)=>(v(),N(n(Kt),{class:`flex flex-col gap-0.25 h-full text-xs sm:text-sm text-gray-500 dark:text-gray-400 list-none select-none px-0.75 font-mono overflow-auto`,items:r.value,"get-key":e=>e.path,"default-expanded":[`components`]},{default:E(({flattenItems:e})=>[(v(!0),x(A,null,o(e,e=>(v(),N($t,{key:e._id,item:e},null,8,[`item`]))),128))]),_:1},8,[`items`,`get-key`]))}}),nn={class:`flex items-center gap-1 w-full h-7 pl px-0.75 py-0.5 !text-xs font-mono`},rn={class:`flex w-full h-full`},an={class:`flex flex-col px-0.75 w-full overflow-hidden mb-0.75`},on={class:`flex items-center`},sn={key:0,class:`flex flex-1 items-center gap-1.5 px-1.5 py-0.5 text-sm text-pink-500 dark:text-pink-300 bg-pink-500/6.25 dark:bg-pink-300/10 rounded-lg outline-none`},cn=h({__name:`editor-layout`,setup(e){let r=J(),i=T(!1),a=T(``),s=T(!1),l=T(null);function u(){s.value||(s.value=!0,f(()=>{l.value?.focus()}))}function d(){s.value=!1,a.value=``}function p(e){let t=a.value.trim();for(;t.startsWith(`/`)||t.startsWith(`.`);)t=t.slice(1);a.value=``,s.value=!1,!(!t||t in r.fs)&&(e.currentTarget.blur(),r.fs[t]=``,r.tabs.files.push(t),r.tabs.active=r.tabs.files.length-1)}return(e,f)=>(v(),x(A,null,[y(`header`,nn,[t(Y,{class:`!size-5.5 ml-0.5`,tip:`Toggle File Explorer`,side:`bottom`,onClick:f[0]||=e=>i.value=!i.value},{default:E(()=>[t(n(Re),{size:14,"stroke-width":`2`})]),_:1}),(v(!0),x(A,null,o(n(r).tabs.files,(e,t)=>(v(),N(Zt,{key:t,index:t},null,8,[`index`]))),128)),t(Y,{class:`!size-5.5 !rounded-md`,tip:`New file`,side:`bottom`,onClick:f[1]||=e=>n(r).createNewFile()},{default:E(()=>[t(n(Be),{size:14,"stroke-width":`2`})]),_:1}),t(n(It),null,{default:E(()=>[t(n(Ut),{"as-child":``},{default:E(()=>[t(Y,{class:`!size-5 ml-auto mr-0.5`,tip:`Reset Playground`,side:`bottom`},{default:E(()=>[t(n(ne),{size:14,"stroke-width":`2`})]),_:1})]),_:1}),t(n(Ht),null,{default:E(()=>[t(n(ae),null,{default:E(()=>[t(n(Vt),{side:`bottom`,"side-offset":4},{default:E(()=>[t(n(ie).div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},class:`w-xs p-2 bg-white/80 dark:bg-gray-700/65 mr-1.5 rounded-2xl border dark:border-gray-600/75 backdrop-blur-xs origin-top-right shadow-lg`},{default:E(()=>[f[4]||=y(`h6`,{class:`text-xl text-black dark:text-white font-medium mt-1 px-2`},` Reset Playground `,-1),f[5]||=y(`p`,{class:`text-gray-600 dark:text-gray-300 mt-2 text-sm leading-normal px-2`},` You are going to reset the playground to its default state. This action cannot be undone. `,-1),t(n(Lt),{"as-child":``},{default:E(()=>[y(`button`,{class:`clicky text-red-500 text-base font-medium mt-2 ml-1 mb-1 px-3 py-1.5 bg-red-500/7.5 dark:bg-red-500/17.5 interact:bg-red-500/12.5 interact:dark:bg-red-500/25 rounded-xl !outline-none`,onClick:f[2]||=e=>n(r).reset()},` Reset Playground `)]),_:1}),t(n(Lt),{class:`absolute clicky top-2 right-2 p-2 text-gray-400 interact:bg-gray-100 interact:dark:bg-gray-600/50 rounded-full`,"aria-label":`Close`},{default:E(()=>[t(n(re),{size:18,"stroke-width":`2`})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),y(`div`,rn,[t(n(se),{direction:`horizontal`,class:`w-full h-full`},{default:E(()=>[t(n(oe),{collapsible:``,"collapsed-size":0,"min-size":15,"default-size":15,"max-size":i.value?100:0},{default:E(()=>[y(`section`,an,[y(`aside`,on,[t(Y,{class:`!size-5.5 ml-0.5`,tip:`New file / folder`,side:`bottom`,onClick:u},{default:E(()=>[t(n(Be),{size:14,"stroke-width":`2`})]),_:1})]),s.value?(v(),x(`div`,sn,[t(n(L),{class:`size-3.5 min-w-3.5`}),b(y(`input`,{ref_key:`createFileInput`,ref:l,class:`w-full overflow-x-auto font-mono`,autocomplete:`off`,autocorrect:`off`,autocapitalize:`off`,"onUpdate:modelValue":f[3]||=e=>a.value=e,autofocus:!0,onBlur:p,onKeyup:[M(p,[`enter`]),M(d,[`esc`])],placeholder:`folder/file.ts`},null,544),[[O,a.value]])])):ee(``,!0)]),t(tn)]),_:1},8,[`max-size`]),t(n(ce)),t(n(oe),{"default-size":85},{default:E(()=>[c(e.$slots,`default`)]),_:3})]),_:3})])],64))}});export{cn as default};