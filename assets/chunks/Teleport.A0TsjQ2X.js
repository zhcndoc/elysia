import{Ct as e,Dt as t,E as n,K as r,O as i,P as a,St as o,T as s,V as c,g as l,gt as u,it as d,kt as f,m as p,mt as m,nt as h,tt as g,v as _,wt as v,xt as y,y as b,z as x}from"./vue.runtime.esm-bundler.BB7fvrom.js";import{C as S,a as C,h as w,i as T,l as E,o as D,s as O,t as k}from"./Primitive.4qyR3aBo.js";function A(e,t,n){let r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}function j(e){return e==null}function M(e){let t=n(),r=t?.type.emits,i={};return r?.length||console.warn(`No emitted event found. Please check component: ${t?.type.__name}`),r?.forEach(t=>{i[f(v(t))]=(...n)=>e(t,...n)}),i}function N(e,t){let n=u(e);function r(e){return t[n.value][e]??n.value}return{state:n,dispatch:e=>{n.value=r(e)}}}function P(e,t){let n=u({}),r=u(`none`),i=u(e),o=e.value?`mounted`:`unmounted`,s,c=t.value?.ownerDocument.defaultView??C,{state:d,dispatch:f}=N(o,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}}),p=e=>{if(w){let n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(n)}};g(e,async(e,i)=>{let o=i!==e;if(await a(),o){let a=r.value,o=F(t.value);e?(f(`MOUNT`),p(`enter`),o===`none`&&p(`after-enter`)):o===`none`||o===`undefined`||n.value?.display===`none`?(f(`UNMOUNT`),p(`leave`),p(`after-leave`)):i&&a!==o?(f(`ANIMATION_OUT`),p(`leave`)):(f(`UNMOUNT`),p(`after-leave`))}},{immediate:!0});let m=e=>{let n=F(t.value),r=n.includes(CSS.escape(e.animationName)),a=d.value===`mounted`?`enter`:`leave`;if(e.target===t.value&&r&&(p(`after-${a}`),f(`ANIMATION_END`),!i.value)){let e=t.value.style.animationFillMode;t.value.style.animationFillMode=`forwards`,s=c?.setTimeout(()=>{t.value?.style.animationFillMode===`forwards`&&(t.value.style.animationFillMode=e)})}e.target===t.value&&n===`none`&&f(`ANIMATION_END`)},h=e=>{e.target===t.value&&(r.value=F(t.value))},_=g(t,(e,t)=>{e?(n.value=getComputedStyle(e),e.addEventListener(`animationstart`,h),e.addEventListener(`animationcancel`,m),e.addEventListener(`animationend`,m)):(f(`ANIMATION_END`),s!==void 0&&c?.clearTimeout(s),t?.removeEventListener(`animationstart`,h),t?.removeEventListener(`animationcancel`,m),t?.removeEventListener(`animationend`,m))},{immediate:!0}),v=g(d,()=>{let e=F(t.value);r.value=d.value===`mounted`?e:`none`});return x(()=>{_(),v()}),{isPresent:l(()=>[`mounted`,`unmountSuspended`].includes(d.value))}}function F(e){return e&&getComputedStyle(e).animationName||`none`}var I=s({name:`Presence`,props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:r}){let{present:a,forceMount:o}=y(e),s=u(),{isPresent:c}=P(a,s);r({present:c});let l=t.default({present:c.value});l=S(l||[]);let d=n();if(l&&l?.length>1){let e=d?.parent?.type.name?`<${d.parent.type.name} />`:`component`;throw Error([`Detected an invalid children for \`${e}\` for  \`Presence\` component.`,``,"Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.",`You can apply a few solutions:`,["Provide a single child element so that `presence` directive attach correctly.",`Ensure the first child is an actual element instead of a raw text node or comment node.`].map(e=>`  - ${e}`).join(`
`)].join(`
`))}return()=>o.value||a.value||c.value?i(t.default({present:c.value})[0],{ref:e=>{let t=O(e);return t?.hasAttribute===void 0||(t?.hasAttribute(`data-reka-popper-content-wrapper`)?s.value=t.firstElementChild:s.value=t),t}}):null}}),L=`dismissableLayer.pointerDownOutside`,R=`dismissableLayer.focusOutside`;function z(e,t){let n=t.closest(`[data-dismissable-layer]`),r=e.dataset.dismissableLayer===``?e:e.querySelector(`[data-dismissable-layer]`),i=Array.from(e.ownerDocument.querySelectorAll(`[data-dismissable-layer]`));return!!(n&&(r===n||i.indexOf(r)<i.indexOf(n)))}function B(e,t,n=!0){let r=t?.value?.ownerDocument??globalThis?.document,i=u(!1),a=u(()=>{});return h(s=>{if(!w||!o(n))return;let c=async n=>{let o=n.target;if(!(!t?.value||!o)){if(z(t.value,o)){i.value=!1;return}if(n.target&&!i.value){let t={originalEvent:n};function i(){A(L,e,t)}n.pointerType===`touch`?(r.removeEventListener(`click`,a.value),a.value=i,r.addEventListener(`click`,a.value,{once:!0})):i()}else r.removeEventListener(`click`,a.value);i.value=!1}},l=window.setTimeout(()=>{r.addEventListener(`pointerdown`,c)},0);s(()=>{window.clearTimeout(l),r.removeEventListener(`pointerdown`,c),r.removeEventListener(`click`,a.value)})}),{onPointerDownCapture:()=>{o(n)&&(i.value=!0)}}}function V(e,t,n=!0){let r=t?.value?.ownerDocument??globalThis?.document,i=u(!1);return h(s=>{if(!w||!o(n))return;let c=async n=>{if(!t?.value)return;await a(),await a();let r=n.target;!t.value||!r||z(t.value,r)||n.target&&!i.value&&A(R,e,{originalEvent:n})};r.addEventListener(`focusin`,c),s(()=>r.removeEventListener(`focusin`,c))}),{onFocusCapture:()=>{o(n)&&(i.value=!0)},onBlurCapture:()=>{o(n)&&(i.value=!1)}}}var H=m({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set}),U=s({__name:`DismissableLayer`,props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`dismiss`],setup(n,{emit:i}){let o=n,s=i,{forwardRef:u,currentElement:f}=T(),p=l(()=>f.value?.ownerDocument??globalThis.document),m=l(()=>H.layersRoot),g=l(()=>f.value?Array.from(m.value).indexOf(f.value):-1),v=l(()=>H.layersWithOutsidePointerEventsDisabled.size>0),y=l(()=>{let e=Array.from(m.value),[t]=[...H.layersWithOutsidePointerEventsDisabled].slice(-1),n=e.indexOf(t);return g.value>=n}),b=B(async e=>{let t=[...H.branches].some(t=>t?.contains(e.target));!y.value||t||(s(`pointerDownOutside`,e),s(`interactOutside`,e),await a(),e.defaultPrevented||s(`dismiss`))},f),x=V(e=>{[...H.branches].some(t=>t?.contains(e.target))||(s(`focusOutside`,e),s(`interactOutside`,e),e.defaultPrevented||s(`dismiss`))},f);return D(`Escape`,e=>{g.value===m.value.size-1&&(s(`escapeKeyDown`,e),e.defaultPrevented||s(`dismiss`))}),h(e=>{f.value&&(o.disableOutsidePointerEvents&&(H.layersWithOutsidePointerEventsDisabled.size===0&&(H.originalBodyPointerEvents=p.value.body.style.pointerEvents,p.value.body.style.pointerEvents=`none`),H.layersWithOutsidePointerEventsDisabled.add(f.value)),m.value.add(f.value),e(()=>{o.disableOutsidePointerEvents&&H.layersWithOutsidePointerEventsDisabled.size===1&&!j(H.originalBodyPointerEvents)&&(p.value.body.style.pointerEvents=H.originalBodyPointerEvents)}))}),h(e=>{e(()=>{f.value&&(m.value.delete(f.value),H.layersWithOutsidePointerEventsDisabled.delete(f.value))})}),(n,i)=>(c(),_(e(k),{ref:e(u),"as-child":n.asChild,as:n.as,"data-dismissable-layer":``,style:t({pointerEvents:v.value?y.value?`auto`:`none`:void 0}),onFocusCapture:e(x).onFocusCapture,onBlurCapture:e(x).onBlurCapture,onPointerdownCapture:e(b).onPointerDownCapture},{default:d(()=>[r(n.$slots,`default`)]),_:3},8,[`as-child`,`as`,`style`,`onFocusCapture`,`onBlurCapture`,`onPointerdownCapture`]))}}),W=s({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){let n=E();return(t,i)=>e(n)||t.forceMount?(c(),_(p,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[r(t.$slots,`default`)],8,[`to`,`disabled`,`defer`])):b(`v-if`,!0)}});export{A as a,M as i,U as n,I as r,W as t};