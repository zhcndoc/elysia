import{C as e,E as t,S as n,T as r,a as i,b as a,c as o,i as s,n as c,s as l,t as u,w as d,x as f}from"./reduce.ENViDDr2.js";import{C as p,E as m,g as ee,h,l as g,p as te,u as _,v as ne,w as re}from"./baseFor.HxEREnTh.js";import{n as v,t as y}from"./isEmpty.D7pokmvx.js";import{A as ie,D as ae,E as oe,M as b,N as se,O as ce,S as x,T as S,b as le,j as ue,k as de,w as C}from"./chunk-S3R3BYOJ.BGUS-zLY.js";function fe(e,t){return e&&S(t,f(t),e)}var pe=fe;function me(e,t){return e&&S(t,C(t),e)}var he=me;function ge(e,t){return S(e,n(e),t)}var _e=ge,w=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,n(e)),e=de(e);return t}:e;function ve(e,t){return S(e,w(e),t)}var ye=ve;function T(e){return d(e,C,w)}var E=T,D=Object.prototype.hasOwnProperty;function O(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]==`string`&&D.call(e,`index`)&&(n.index=e.index,n.input=e.input),n}var k=O;function A(e,t){var n=t?b(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var j=A,M=/\w*$/;function N(e){var t=new e.constructor(e.source,M.exec(e));return t.lastIndex=e.lastIndex,t}var P=N,F=m?m.prototype:void 0,I=F?F.valueOf:void 0;function be(e){return I?Object(I.call(e)):{}}var xe=be,Se=`[object Boolean]`,Ce=`[object Date]`,we=`[object Map]`,Te=`[object Number]`,Ee=`[object RegExp]`,De=`[object Set]`,Oe=`[object String]`,ke=`[object Symbol]`,Ae=`[object ArrayBuffer]`,je=`[object DataView]`,Me=`[object Float32Array]`,Ne=`[object Float64Array]`,Pe=`[object Int8Array]`,Fe=`[object Int16Array]`,Ie=`[object Int32Array]`,Le=`[object Uint8Array]`,Re=`[object Uint8ClampedArray]`,ze=`[object Uint16Array]`,Be=`[object Uint32Array]`;function Ve(e,t,n){var r=e.constructor;switch(t){case Ae:return b(e);case Se:case Ce:return new r(+e);case je:return j(e,n);case Me:case Ne:case Pe:case Fe:case Ie:case Le:case Re:case ze:case Be:return ue(e,n);case we:return new r;case Te:case Oe:return new r(e);case Ee:return P(e);case De:return new r;case ke:return xe(e)}}var He=Ve,Ue=`[object Map]`;function We(e){return h(e)&&v(e)==Ue}var Ge=We,L=g&&g.isMap,Ke=L?_(L):Ge,qe=`[object Set]`;function Je(e){return h(e)&&v(e)==qe}var Ye=Je,R=g&&g.isSet,Xe=R?_(R):Ye,Ze=1,Qe=2,$e=4,z=`[object Arguments]`,et=`[object Array]`,tt=`[object Boolean]`,nt=`[object Date]`,rt=`[object Error]`,B=`[object Function]`,it=`[object GeneratorFunction]`,at=`[object Map]`,ot=`[object Number]`,V=`[object Object]`,st=`[object RegExp]`,ct=`[object Set]`,lt=`[object String]`,ut=`[object Symbol]`,dt=`[object WeakMap]`,ft=`[object ArrayBuffer]`,pt=`[object DataView]`,mt=`[object Float32Array]`,ht=`[object Float64Array]`,gt=`[object Int8Array]`,_t=`[object Int16Array]`,vt=`[object Int32Array]`,yt=`[object Uint8Array]`,bt=`[object Uint8ClampedArray]`,xt=`[object Uint16Array]`,St=`[object Uint32Array]`,H={};H[z]=H[et]=H[ft]=H[pt]=H[tt]=H[nt]=H[mt]=H[ht]=H[gt]=H[_t]=H[vt]=H[at]=H[ot]=H[V]=H[st]=H[ct]=H[lt]=H[ut]=H[yt]=H[bt]=H[xt]=H[St]=!0,H[rt]=H[B]=H[dt]=!1;function U(e,t,n,r,i,o){var c,l=t&Ze,u=t&Qe,d=t&$e;if(n&&(c=i?n(e,r,i,o):n(e)),c!==void 0)return c;if(!re(e))return e;var p=ee(e);if(p){if(c=k(e),!l)return ie(e,c)}else{var m=v(e),h=m==B||m==it;if(te(e))return se(e,l);if(m==V||m==z||h&&!i){if(c=u||h?{}:ce(e),!l)return u?ye(e,he(c,e)):_e(e,pe(c,e))}else{if(!H[m])return i?e:{};c=He(e,m,l)}}o||=new ne;var g=o.get(e);if(g)return g;o.set(e,c),Xe(e)?e.forEach(function(r){c.add(U(r,t,n,r,e,o))}):Ke(e)&&e.forEach(function(r,i){c.set(i,U(r,t,n,i,e,o))});var _=p?void 0:(d?u?E:a:u?C:f)(e);return s(_||e,function(r,i){_&&(i=r,r=e[i]),oe(c,i,U(r,t,n,i,e,o))}),c}var Ct=U;function W(e,n){return t(n,function(t){return e[t]})}var wt=W;function Tt(e){return e==null?[]:wt(e,f(e))}var G=Tt;function Et(e){return e===void 0}var K=Et,Dt=le(function(e){return i(l(e,1,ae,!0))}),Ot=`\0`,q=`\0`,J=``,Y=class{constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,`directed`)?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,`multigraph`)?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,`compound`)?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=x(void 0),this._defaultEdgeLabelFn=x(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[q]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return p(e)||(e=x(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return f(this._nodes)}sources(){var e=this;return o(this.nodes(),function(t){return y(e._in[t])})}sinks(){var e=this;return o(this.nodes(),function(t){return y(e._out[t])})}setNodes(e,t){var n=arguments,r=this;return c(e,function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=q,this._children[e]={},this._children[q][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=e=>this.removeEdge(this._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],c(this.children(e),e=>{this.setParent(e)}),delete this._children[e]),c(f(this._in[e]),t),delete this._in[e],delete this._preds[e],c(f(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw Error(`Cannot set parent in a non-compound graph`);if(K(t))t=q;else{t+=``;for(var n=t;!K(n);n=this.parent(n))if(n===e)throw Error(`Setting `+t+` as parent of `+e+` would create a cycle`);this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==q)return t}}children(e){if(K(e)&&(e=q),this._isCompound){var t=this._children[e];if(t)return f(t)}else if(e===q)return this.nodes();else if(this.hasNode(e))return[]}predecessors(e){var t=this._preds[e];if(t)return f(t)}successors(e){var t=this._sucs[e];if(t)return f(t)}neighbors(e){var t=this.predecessors(e);if(t)return Dt(t,this.successors(e))}isLeaf(e){return(this.isDirected()?this.successors(e):this.neighbors(e)).length===0}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;c(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),c(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};function i(e){var a=n.parent(e);return a===void 0||t.hasNode(a)?(r[e]=a,a):a in r?r[a]:i(a)}return this._isCompound&&c(t.nodes(),function(e){t.setParent(e,i(e))}),t}setDefaultEdgeLabel(e){return p(e)||(e=x(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return G(this._edgeObjs)}setPath(e,t){var n=this,r=arguments;return u(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this}setEdge(){var e,t,n,r,i=!1,a=arguments[0];typeof a==`object`&&a&&`v`in a?(e=a.v,t=a.w,n=a.name,arguments.length===2&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=``+e,t=``+t,K(n)||(n=``+n);var o=Q(this._isDirected,e,t,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return i&&(this._edgeLabels[o]=r),this;if(!K(n)&&!this._isMultigraph)throw Error(`Cannot set a named edge when isMultigraph = false`);this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=kt(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,X(this._preds[t],e),X(this._sucs[e],t),this._in[t][o]=s,this._out[e][o]=s,this._edgeCount++,this}edge(e,t,n){var r=arguments.length===1?$(this._isDirected,arguments[0]):Q(this._isDirected,e,t,n);return this._edgeLabels[r]}hasEdge(e,t,n){var r=arguments.length===1?$(this._isDirected,arguments[0]):Q(this._isDirected,e,t,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,r)}removeEdge(e,t,n){var r=arguments.length===1?$(this._isDirected,arguments[0]):Q(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],Z(this._preds[t],e),Z(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var r=G(n);return t?o(r,function(e){return e.v===t}):r}}outEdges(e,t){var n=this._out[e];if(n){var r=G(n);return t?o(r,function(e){return e.w===t}):r}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}};Y.prototype._nodeCount=0,Y.prototype._edgeCount=0;function X(e,t){e[t]?e[t]++:e[t]=1}function Z(e,t){--e[t]||delete e[t]}function Q(e,t,n,r){var i=``+t,a=``+n;if(!e&&i>a){var o=i;i=a,a=o}return i+J+a+J+(K(r)?Ot:r)}function kt(e,t,n,r){var i=``+t,a=``+n;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return r&&(s.name=r),s}function $(e,t){return Q(e,t.v,t.w,t.name)}export{Ct as i,K as n,G as r,Y as t};