import{Ct as e,K as t,P as n,T as r,V as i,g as a,gt as o,it as s,mt as c,nt as l,tt as u,v as ee,z as d}from"./vue.runtime.esm-bundler.BB7fvrom.js";import{S as f,c as p,g as m,h,i as g,m as _,p as v,s as y,t as te,y as b}from"./Primitive.4qyR3aBo.js";function x(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function S(e){if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)===`[object Module]`:!0}function C(e,t,n=`.`,r){if(!S(t))return C(e,{},n,r);let i=Object.assign({},t);for(let t in e){if(t===`__proto__`||t===`constructor`)continue;let a=e[t];a!=null&&(r&&r(i,t,a,n)||(Array.isArray(a)&&Array.isArray(i[t])?i[t]=[...a,...i[t]]:S(a)&&S(i[t])?i[t]=C(a,i[t],(n?`${n}.`:``)+t.toString(),r):i[t]=a))}return i}function ne(e){return(...t)=>t.reduce((t,n)=>C(t,n,``,e),{})}var re=ne(),w=_(()=>{let e=o(new Map),t=o(),r=a(()=>{for(let t of e.value.values())if(t)return!0;return!1}),i=f({scrollBody:o(!0)}),s=null,c=()=>{document.body.style.paddingRight=``,document.body.style.marginRight=``,document.body.style.pointerEvents=``,document.documentElement.style.removeProperty(`--scrollbar-width`),document.body.style.overflow=t.value??``,m&&s?.(),t.value=void 0};return u(r,(e,r)=>{if(!h)return;if(!e){r&&c();return}t.value===void 0&&(t.value=document.body.style.overflow);let a=window.innerWidth-document.documentElement.clientWidth,o={padding:a,margin:0},l=i.scrollBody?.value?typeof i.scrollBody.value==`object`?re({padding:i.scrollBody.value.padding===!0?a:i.scrollBody.value.padding,margin:i.scrollBody.value.margin===!0?a:i.scrollBody.value.margin},o):o:{padding:0,margin:0};a>0&&(document.body.style.paddingRight=typeof l.padding==`number`?`${l.padding}px`:String(l.padding),document.body.style.marginRight=typeof l.margin==`number`?`${l.margin}px`:String(l.margin),document.documentElement.style.setProperty(`--scrollbar-width`,`${a}px`),document.body.style.overflow=`hidden`),m&&(s=p(document,`touchmove`,e=>D(e),{passive:!1})),n(()=>{document.body.style.pointerEvents=`none`,document.body.style.overflow=`hidden`})},{immediate:!0,flush:`sync`}),e});function T(e){let t=Math.random().toString(36).substring(2,7),n=w();n.value.set(t,e??!1);let r=a({get:()=>n.value.get(t)??!1,set:e=>n.value.set(t,e)});return b(()=>{n.value.delete(t)}),r}function E(e){let t=window.getComputedStyle(e);if(t.overflowX===`scroll`||t.overflowY===`scroll`||t.overflowX===`auto`&&e.clientWidth<e.scrollWidth||t.overflowY===`auto`&&e.clientHeight<e.scrollHeight)return!0;{let t=e.parentNode;return!(t instanceof Element)||t.tagName===`BODY`?!1:E(t)}}function D(e){let t=e||window.event,n=t.target;return n instanceof Element&&E(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var O=function(e){return typeof document>`u`?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},k=new WeakMap,A=new WeakMap,j={},M=0,N=function(e){return e&&(e.host||N(e.parentNode))},P=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=N(t);return n&&e.contains(n)?n:(console.error(`aria-hidden`,t,`in not contained inside`,e,`. Doing nothing`),null)}).filter(function(e){return!!e})},F=function(e,t,n,r){var i=P(t,Array.isArray(e)?e:[e]);j[n]||(j[n]=new WeakMap);var a=j[n],o=[],s=new Set,c=new Set(i),l=function(e){!e||s.has(e)||(s.add(e),l(e.parentNode))};i.forEach(l);var u=function(e){!e||c.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=t!==null&&t!==`false`,c=(k.get(e)||0)+1,l=(a.get(e)||0)+1;k.set(e,c),a.set(e,l),o.push(e),c===1&&i&&A.set(e,!0),l===1&&e.setAttribute(n,`true`),i||e.setAttribute(r,`true`)}catch(t){console.error(`aria-hidden: cannot operate on `,e,t)}})};return u(t),s.clear(),M++,function(){o.forEach(function(e){var t=k.get(e)-1,i=a.get(e)-1;k.set(e,t),a.set(e,i),t||(A.has(e)||e.removeAttribute(r),A.delete(e)),i||e.removeAttribute(n)}),M--,M||(k=new WeakMap,k=new WeakMap,A=new WeakMap,j={})}},I=function(e,t,n){n===void 0&&(n=`data-aria-hidden`);var r=Array.from(Array.isArray(e)?e:[e]),i=t||O(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll(`[aria-live], script`))),F(r,i,n,`aria-hidden`)):function(){return null}};function L(e){let t;u(()=>y(e),e=>{e?t=I(e):t&&t()}),d(()=>{t&&t()})}var R=v(()=>o([]));function z(){let e=R();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=B(e.value,t),e.value.unshift(t)},remove(t){e.value=B(e.value,t),e.value[0]?.resume()}}}function B(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function V(e){return e.filter(e=>e.tagName!==`A`)}var H=`focusScope.autoFocusOnMount`,U=`focusScope.autoFocusOnUnmount`,W={bubbles:!1,cancelable:!0};function G(e,{select:t=!1}={}){let n=x();for(let r of e)if(X(r,{select:t}),x()!==n)return!0}function K(e){let t=q(e);return[J(t,e),J(t.reverse(),e)]}function q(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t=e.tagName===`INPUT`&&e.type===`hidden`;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J(e,t){for(let n of e)if(!Y(n,{upTo:t}))return n}function Y(e,{upTo:t}){if(getComputedStyle(e).visibility===`hidden`)return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display===`none`)return!0;e=e.parentElement}return!1}function ie(e){return e instanceof HTMLInputElement&&`select`in e}function X(e,{select:t=!1}={}){if(e&&e.focus){let n=x();e.focus({preventScroll:!0}),e!==n&&ie(e)&&t&&e.select()}}var ae=r({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(r,{emit:a}){let u=r,d=a,{currentRef:f,currentElement:p}=g(),m=o(null),_=z(),v=c({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});l(e=>{if(!h)return;let t=p.value;if(!u.trapped)return;function n(e){if(v.paused||!t)return;let n=e.target;t.contains(n)?m.value=n:X(m.value,{select:!0})}function r(e){if(v.paused||!t)return;let n=e.relatedTarget;n!==null&&(t.contains(n)||X(m.value,{select:!0}))}function i(e){t.contains(m.value)||X(t)}document.addEventListener(`focusin`,n),document.addEventListener(`focusout`,r);let a=new MutationObserver(i);t&&a.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,n),document.removeEventListener(`focusout`,r),a.disconnect()})}),l(async e=>{let t=p.value;if(await n(),!t)return;_.add(v);let r=x();if(!t.contains(r)){let e=new CustomEvent(H,W);t.addEventListener(H,e=>d(`mountAutoFocus`,e)),t.dispatchEvent(e),e.defaultPrevented||(G(V(q(t)),{select:!0}),x()===r&&X(t))}e(()=>{t.removeEventListener(H,e=>d(`mountAutoFocus`,e));let e=new CustomEvent(U,W),n=e=>{d(`unmountAutoFocus`,e)};t.addEventListener(U,n),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||X(r??document.body,{select:!0}),t.removeEventListener(U,n),_.remove(v)},0)})});function y(e){if(!u.loop&&!u.trapped||v.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=x();if(t&&n){let t=e.currentTarget,[r,i]=K(t);r&&i?!e.shiftKey&&n===i?(e.preventDefault(),u.loop&&X(r,{select:!0})):e.shiftKey&&n===r&&(e.preventDefault(),u.loop&&X(i,{select:!0})):n===t&&e.preventDefault()}}return(n,r)=>(i(),ee(e(te),{ref_key:`currentRef`,ref:f,tabindex:`-1`,"as-child":n.asChild,as:n.as,onKeydown:y},{default:s(()=>[t(n.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),oe=`menu.itemSelect`,Z=[`Enter`,` `],se=[`ArrowDown`,`PageUp`,`Home`],Q=[`ArrowUp`,`PageDown`,`End`],ce=[...se,...Q];[...Z],[...Z];function le(e){return e?`open`:`closed`}function $(e){let t=x();for(let n of e)if(n===t||(n.focus(),x()!==t))return}function ue(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}function de(e,t){return t?ue({x:e.clientX,y:e.clientY},t):!1}function fe(e){return e.pointerType===`mouse`}export{$ as a,de as c,T as d,x as f,Z as i,ae as l,oe as n,le as o,Q as r,fe as s,ce as t,L as u};