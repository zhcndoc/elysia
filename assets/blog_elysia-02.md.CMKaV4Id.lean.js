import{F as e,_ as t,p as n,te as r,u as i,v as a}from"./chunks/runtime-core.esm-bundler.D02XvB7A.js";import{t as o}from"./chunks/Layout.CgtC_9GJ.js";const s=JSON.parse(`{"title":"Elysia 0.2 - 祝福","description":"介绍 Elysia 0.2，带来更多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。","frontmatter":{"title":"Elysia 0.2 - 祝福","sidebar":false,"editLink":false,"search":false,"head":[["meta",{"property":"og:title","content":"介绍 Elysia 0.2 - 祝福"}],["meta",{"name":"description","content":"介绍 Elysia 0.2，带来更多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。"}],["meta",{"property":"og:description","content":"介绍 Elysia 0.2，带来更多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。"}],["meta",{"property":"og:image","content":"https://elysiajs.com/blog/elysia-02/blessing.webp"}],["meta",{"property":"twitter:image","content":"https://elysiajs.com/blog/elysia-02/blessing.webp"}]]},"headers":[],"relativePath":"blog/elysia-02.md","filePath":"blog/elysia-02.md","lastUpdated":1758208104000}`);var c=Object.assign({name:`blog/elysia-02.md`},{setup(s){return(s,c)=>(e(),n(`div`,null,[a(o,{title:`Elysia 0.2 - 祝福`,src:`/blog/elysia-02/blessing.webp`,alt:`夜空中雪山上方的蓝紫色极光`,author:`saltyaom`,date:`2023 年 1 月 29 日`},{default:r(()=>c[0]||=[i(`p`,null,[t(`「`),i(`a`,{href:`https://youtu.be/3eytpBOkOFA`,target:`_blank`,rel:`noreferrer`},`祝福`),t(`」带来了更多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。`)],-1),i(`p`,null,`以 YOASOBI 的歌曲「祝福」命名，这是《机动战士高达：水星的魔女》的主题曲。`,-1),i(`h2`,{id:`延迟-懒加载模块`,tabindex:`-1`},[t(`延迟 / 懒加载模块 `),i(`a`,{class:`header-anchor`,href:`#延迟-懒加载模块`,"aria-label":`Permalink to “延迟 / 懒加载模块”`},`​`)],-1),i(`p`,null,`Elysia 0.2 现在添加了对懒加载模块和异步插件的支持。`,-1),i(`p`,null,`这使得插件注册可以延期，并在 Elysia 服务器启动后逐步应用，从而在无服务器/边缘环境中实现尽可能快的启动时间。`,-1),i(`p`,null,`要创建延迟模块，只需将插件标记为异步：`,-1),i(`div`,{class:`language-typescript`},[i(`button`,{title:`Copy Code`,class:`copy`}),i(`span`,{class:`lang`},`typescript`),i(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[i(`code`,null,[i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`const`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` plugin`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` async`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` (`),i(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`app`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`:`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Elysia`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`) `),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`    const`),i(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` stuff`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` await`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` doSomeHeavyWork`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),i(`span`,{class:`line`}),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`    return`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` app.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`get`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),i(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'/heavy'`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, stuff)`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`}`)]),t(`
`),i(`span`,{class:`line`}),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`app.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`use`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(plugin)`)])])])],-1),i(`h3`,{id:`懒加载`,tabindex:`-1`},[t(`懒加载 `),i(`a`,{class:`header-anchor`,href:`#懒加载`,"aria-label":`Permalink to “懒加载”`},`​`)],-1),i(`p`,null,`某些模块可能很大，在启动服务器之前导入可能不是一个好主意。`,-1),i(`p`,null,[t(`我们可以告诉 Elysia 跳过该模块，然后稍后注册模块，并在加载完成时使用 `),i(`code`,null,`import`),t(` 语句在 `),i(`code`,null,`use`),t(` 中注册模块：`)],-1),i(`div`,{class:`language-typescript`},[i(`button`,{title:`Copy Code`,class:`copy`}),i(`span`,{class:`lang`},`typescript`),i(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[i(`code`,null,[i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`app.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`use`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`import`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),i(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'./some-heavy-module'`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`))`)])])])],-1),i(`p`,null,`这将在导入完成后注册模块，使模块实现懒加载。`,-1),i(`p`,null,`延迟插件和懒加载模块将直接提供所有类型推断。`,-1),i(`h2`,{id:`参考模型`,tabindex:`-1`},[t(`参考模型 `),i(`a`,{class:`header-anchor`,href:`#参考模型`,"aria-label":`Permalink to “参考模型”`},`​`)],-1),i(`p`,null,[t(`现在 Elysia 可以记住模式并在 Schema 字段中直接引用模式，而无需通过 `),i(`code`,null,`Elysia.setModel`),t(` 创建导入文件。`)],-1),i(`p`,null,`可用模式列表带来了自动补全、完整的类型推断和您对内联模式的期望的验证。`,-1),i(`p`,null,[t(`要使用参考模型，首先使用 `),i(`code`,null,`setModel`),t(` 注册模型，然后在 `),i(`code`,null,`schema`),t(` 中写入模型名称以引用模型：`)],-1),i(`div`,{class:`language-typescript`},[i(`button`,{title:`Copy Code`,class:`copy`}),i(`span`,{class:`lang`},`typescript`),i(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[i(`code`,null,[i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`const`),i(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` app`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` new`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Elysia`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    .`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`setModel`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        sign: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`Object`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            username: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(),`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            password: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        })`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    })`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    .`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`post`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),i(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'/sign'`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, ({ `),i(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`body`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` }) `),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` body, {`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        schema: {`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            body: `),i(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'sign'`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`,`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            response: `),i(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'sign'`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        }`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    })`)])])])],-1),i(`p`,null,[t(`这将带来已知模型的自动补全。 `),i(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 24 28`,src:`https://user-images.githubusercontent.com/35027979/213980696-8f20a934-c500-4f97-884c-ff2dd2efadfe.png`})],-1),i(`p`,null,[t(`以及类型引用，防止您意外返回无效类型。 `),i(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 26 00`,src:`https://user-images.githubusercontent.com/35027979/213980738-0e99cb25-a50f-4888-8879-f00d4ad04363.png`})],-1),i(`p`,null,[t(`使用 `),i(`code`,null,`@elysiajs/swagger`),t(` 还会创建一个单独的 `),i(`code`,null,`Model`),t(` 部分，用于列出可用模型。 `),i(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 23 41`,src:`https://user-images.githubusercontent.com/35027979/213980936-5857e30b-fd4b-4fc3-8aff-fdb9054980d3.png`})],-1),i(`p`,null,`参考也会处理您预期的验证。`,-1),i(`p`,null,`简而言之，它与内联模式相同，但现在您只需输入模式名称即可处理验证和类型，而不是一长串导入。`,-1),i(`h2`,{id:`openapi-详细字段`,tabindex:`-1`},[t(`OpenAPI 详细字段 `),i(`a`,{class:`header-anchor`,href:`#openapi-详细字段`,"aria-label":`Permalink to “OpenAPI 详细字段”`},`​`)],-1),i(`p`,null,[t(`介绍新字段 `),i(`code`,null,`schema.detail`),t(`，用于自定义路由的详细信息，遵循 OpenAPI Schema V2 的标准，并具有自动补全。`)],-1),i(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 54 11`,src:`https://user-images.githubusercontent.com/35027979/213981321-5717e514-aa4b-492a-b45a-9e69099dc8a8.png`},null,-1),i(`p`,null,[t(`这使您能够编写更好的文档，并根据您的需求完全可编辑的 Swagger： `),i(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 23 41`,src:`https://user-images.githubusercontent.com/35027979/213981545-46efc6cc-34bc-4db2-86ed-530d27d7ba97.png`})],-1),i(`h2`,{id:`联合类型`,tabindex:`-1`},[t(`联合类型 `),i(`a`,{class:`header-anchor`,href:`#联合类型`,"aria-label":`Permalink to “联合类型”`},`​`)],-1),i(`p`,null,`Elysia 的先前版本有时在不同的联合类型上遇到问题，因为 Elysia 尝试捕捉响应以创建 Eden 的完整类型引用。`,-1),i(`p`,null,`导致可能类型的无效化。`,-1),i(`h2`,{id:`联合响应`,tabindex:`-1`},[t(`联合响应 `),i(`a`,{class:`header-anchor`,href:`#联合响应`,"aria-label":`Permalink to “联合响应”`},`​`)],-1),i(`p`,null,[t(`现在支持联合类型，使用 `),i(`code`,null,`schema.response[statusCode]`),t(` 返回多个响应状态。`)],-1),i(`div`,{class:`language-typescript`},[i(`button`,{title:`Copy Code`,class:`copy`}),i(`span`,{class:`lang`},`typescript`),i(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[i(`code`,null,[i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`app`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    .`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`post`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`        '/json/:id'`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`,`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        ({ `),i(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`body`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),i(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`params`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: { `),i(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`id`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` } }) `),i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` ({`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`            ...`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`body,`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            id`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        }),`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        {`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            schema: {`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                body: `),i(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'sign'`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`,`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                response: {`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`                    200`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`Object`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        username: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(),`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        password: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(),`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        id: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                    }),`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`                    400`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`Object`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        error: t.`),i(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                    })`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                }`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            }`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        }`)]),t(`
`),i(`span`,{class:`line`},[i(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    )`)])])])],-1),i(`p`,null,[t(`Elysia 会尝试验证 `),i(`code`,null,`response`),t(` 中的所有模式，允许返回其中一种类型。`)],-1),i(`p`,null,`返回类型也在 Swagger 的响应中报告。`,-1),i(`h2`,{id:`更快的类型推断`,tabindex:`-1`},[t(`更快的类型推断 `),i(`a`,{class:`header-anchor`,href:`#更快的类型推断`,"aria-label":`Permalink to “更快的类型推断”`},`​`)],-1),i(`p`,null,`随着 Elysia 0.1 探索使用类型推断以改善开发者体验，我们发现有时更新类型推断需要很长时间，因为重的类型推断和低效的自定义泛型。`,-1),i(`p`,null,`现在 Elysia 0.2 针对更快的类型推断进行了优化，防止重的类型解包的重复，导致更新类型和推断的性能更好。`,-1),i(`h2`,{id:`生态系统`,tabindex:`-1`},[t(`生态系统 `),i(`a`,{class:`header-anchor`,href:`#生态系统`,"aria-label":`Permalink to “生态系统”`},`​`)],-1),i(`p`,null,`Elysia 0.2 启用异步插件和延迟模块，许多之前不可能的新插件成为现实。`,-1),i(`p`,null,`例如：`,-1),i(`ul`,null,[i(`li`,null,`Elysia 静态插件，具有非阻塞能力`),i(`li`,null,`Eden，支持多个响应的联合类型推断`),i(`li`,null,`新 Elysia Apollo 插件`)],-1),i(`h3`,{id:`重要改进`,tabindex:`-1`},[t(`重要改进： `),i(`a`,{class:`header-anchor`,href:`#重要改进`,"aria-label":`Permalink to “重要改进：”`},`​`)],-1),i(`ul`,null,[i(`li`,null,[i(`code`,null,`onRequest`),t(` 和 `),i(`code`,null,`onParse`),t(` 现在可以访问 `),i(`code`,null,`PreContext`)]),i(`li`,null,[t(`默认支持 `),i(`code`,null,`application/x-www-form-urlencoded`)]),i(`li`,null,[t(`请求体解析器现在解析具有额外属性的 `),i(`code`,null,`content-type`),t(`，例如 `),i(`code`,null,`application/json;charset=utf-8`)]),i(`li`,null,`解码 URI 参数路径参数`),i(`li`,null,`如果没有安装 Elysia，Eden 现在会报告错误`),i(`li`,null,`跳过现有模型和装饰器的声明`)],-1),i(`h3`,{id:`破坏性更改`,tabindex:`-1`},[t(`破坏性更改： `),i(`a`,{class:`header-anchor`,href:`#破坏性更改`,"aria-label":`Permalink to “破坏性更改：”`},`​`)],-1),i(`ul`,null,[i(`li`,null,[i(`code`,null,`onParse`),t(` 现在接受 `),i(`code`,null,`(context: PreContext, contentType: string)`),t(` 而不是 `),i(`code`,null,`(request: Request, contentType: string)`),i(`ul`,null,[i(`li`,null,[t(`迁移时，请将 `),i(`code`,null,`.request`),t(` 添加到上下文以访问 `),i(`code`,null,`Request`)])])])],-1),i(`h3`,{id:`之后`,tabindex:`-1`},[t(`之后 `),i(`a`,{class:`header-anchor`,href:`#之后`,"aria-label":`Permalink to “之后”`},`​`)],-1),i(`p`,null,`感谢您支持 Elysia，并对这个项目感兴趣。`,-1),i(`p`,null,`此版本带来了更好的开发体验，希望让您能够使用 Bun 编写出色的软件。`,-1),i(`p`,null,[t(`现在我们有了 `),i(`a`,{href:`https://discord.gg/eaFJ2KDJck`,target:`_blank`,rel:`noreferrer`},`Discord 服务器`),t(`，您可以在此询问有关 Elysia 的任何问题，或者只是放松一下，也是非常欢迎的。`)],-1),i(`p`,null,`借助这些优秀的工具，我们期待看到您将构建出什么精彩的软件。`,-1),i(`blockquote`,null,[i(`p`,null,`不要成为别人描绘的那些形象的一部分`),i(`p`,null,`不要在别人选择的展示中前进`),i(`p`,null,`你和我，活着去书写我们的故事`),i(`p`,null,`永远不会让你孤单，远离你的身边`)],-1)]),_:1,__:[0]})]))}});export{s as __pageData,c as default};