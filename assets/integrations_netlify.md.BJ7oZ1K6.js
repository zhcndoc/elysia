import{V as e,b as t,x as n}from"./chunks/vue.runtime.esm-bundler.BB7fvrom.js";import{t as r}from"./chunks/plugin-vue_export-helper.CKgBKD3c.js";const i=JSON.parse(`{"title":"与 Netlify Edge Function 集成 - ElysiaJS","description":"Elysia 构建于 Web 标准的 Request/Response 之上，使我们能够在 Netlify Edge Function 上运行 Elysia","frontmatter":{"title":"与 Netlify Edge Function 集成 - ElysiaJS","head":[["meta",{"property":"og:title","content":"与 Netlify Edge Function 集成 - ElysiaJS"}],["meta",{"name":"description","content":"Elysia 构建于 Web 标准的 Request/Response 之上，使我们能够在 Netlify Edge Function 上运行 Elysia"}],["meta",{"property":"og:description","content":"Elysia 构建于 Web 标准的 Request/Response 之上，使我们能够在 Netlify Edge Function 上运行 Elysia"}]]},"headers":[],"relativePath":"integrations/netlify.md","filePath":"integrations/netlify.md","lastUpdated":1768116877000}`);var a={name:`integrations/netlify.md`};function o(r,i,a,o,s,c){return e(),t(`div`,null,[...i[0]||=[n(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /integrations/netlify.md for this page in Markdown format</div><h1 id="与-netlify-edge-function-集成" tabindex="-1">与 Netlify Edge Function 集成 <a class="header-anchor" href="#与-netlify-edge-function-集成" aria-label="Permalink to “与 Netlify Edge Function 集成”">​</a></h1><p><a href="https://docs.netlify.com/build/edge-functions/overview/" target="_blank" rel="noreferrer">Netlify Edge Function</a> 运行在 <a href="/integrations/deno.html">Deno</a> 环境上，Deno 是 Elysia 支持的运行时之一，因为 Elysia 是建立在 Web 标准之上。</p><p>Netlify Edge Functions 需要一个特定的目录来运行函数，默认目录是 <strong>&lt;directory&gt;/netlify/edge-functions</strong>。</p><p>如果要创建一个路径为 <strong>/hello</strong> 的函数，需要在 <code>netlify/edge-functions/hello.ts</code> 文件中创建，然后直接 <code>export default</code> 一个 Elysia 实例。</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-13" id="tab-14" checked><label data-title="netlify/edge-functions/hello.ts" for="tab-14">netlify/edge-functions/hello.ts</label></div><div class="blocks"><div class="language-typescript active"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ prefix: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Hello Elysia&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></div></div><h3 id="本地运行" tabindex="-1">本地运行 <a class="header-anchor" href="#本地运行" aria-label="Permalink to “本地运行”">​</a></h3><p>要在本地测试 Netlify Edge Function 上的 Elysia 服务器，可以安装 <a href="https://docs.netlify.com/build/edge-functions/get-started/#test-locally" target="_blank" rel="noreferrer">Netlify CLI</a> 来模拟函数调用。</p><p>安装 Netlify CLI：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netlify-cli</span></span></code></pre></div><p>启动开发环境：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netlify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><p>更多信息，请参考 <a href="https://docs.netlify.com/build/edge-functions" target="_blank" rel="noreferrer">Netlify Edge Function 文档</a>。</p><h3 id="pnpm" tabindex="-1">pnpm <a class="header-anchor" href="#pnpm" aria-label="Permalink to “pnpm”">​</a></h3><p>如果你使用 pnpm，<a href="https://github.com/orgs/pnpm/discussions/3995#discussioncomment-1893230" target="_blank" rel="noreferrer">pnpm 默认不自动安装 peer 依赖</a>，需要你手动安装额外的依赖。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @sinclair/typebox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openapi-types</span></span></code></pre></div>`,16)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};