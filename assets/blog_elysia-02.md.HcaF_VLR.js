import{C as e,S as t,V as n,_ as r,b as i,it as a}from"./chunks/vue.runtime.esm-bundler.BB7fvrom.js";import"./chunks/banner.DpkE44SY.js";import"./chunks/ray.DH5EacAR.js";import{t as o}from"./chunks/Layout.BZ0rZhD9.js";const s=JSON.parse(`{"title":"Elysia 0.2 - 祝福","description":"介绍 Elysia 0.2，带来更多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。","frontmatter":{"title":"Elysia 0.2 - 祝福","sidebar":false,"editLink":false,"search":false,"comment":false,"head":[["meta",{"property":"og:title","content":"介绍 Elysia 0.2 - 祝福"}],["meta",{"name":"description","content":"介绍 Elysia 0.2，带来更多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。"}],["meta",{"property":"og:description","content":"介绍 Elysia 0.2，带来更多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。"}],["meta",{"property":"og:image","content":"https://elysiajs.com/blog/elysia-02/blessing.webp"}],["meta",{"property":"twitter:image","content":"https://elysiajs.com/blog/elysia-02/blessing.webp"}]]},"headers":[],"relativePath":"blog/elysia-02.md","filePath":"blog/elysia-02.md","lastUpdated":1768116877000}`);var c=Object.assign({name:`blog/elysia-02.md`},{setup(s){return(s,c)=>(n(),i(`div`,null,[e(o,{title:`Elysia 0.2 - 祝福`,src:`/blog/elysia-02/blessing.webp`,alt:`夜空中雪山上方的蓝紫色极光`,author:`saltyaom`,date:`2023 年 1 月 29 日`},{default:a(()=>[...c[0]||=[r(`p`,null,[t(`「`),r(`a`,{href:`https://youtu.be/3eytpBOkOFA`,target:`_blank`,rel:`noreferrer`},`祝福`),t(`」带来了许多改进，主要集中在 TypeScript 性能、类型推断、更好的自动补全以及一些新功能，以减少样板代码。`)],-1),r(`p`,null,`以 YOASOBI 的歌曲「祝福」命名，这是《机动战士高达：水星的魔女》的主题曲。`,-1),r(`h2`,{id:`延迟加载-懒加载模块`,tabindex:`-1`},[t(`延迟加载 / 懒加载模块 `),r(`a`,{class:`header-anchor`,href:`#延迟加载-懒加载模块`,"aria-label":`Permalink to “延迟加载 / 懒加载模块”`},`​`)],-1),r(`p`,null,`Elysia 0.2 现在增加了对懒加载模块和异步插件的支持。`,-1),r(`p`,null,`这使得在 Elysia 服务器启动后延迟插件注册并逐步应用插件成为可能，从而实现了在无服务器/边缘环境中尽可能快的启动时间。`,-1),r(`p`,null,`要创建一个延迟模块，只需将插件标记为异步：`,-1),r(`div`,{class:`language-typescript`},[r(`button`,{title:`Copy Code`,class:`copy`}),r(`span`,{class:`lang`},`typescript`),r(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[r(`code`,null,[r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`const`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` plugin`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` async`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` (`),r(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`app`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`:`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Elysia`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`) `),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`    const`),r(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` stuff`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` await`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` doSomeHeavyWork`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),r(`span`,{class:`line`}),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`    return`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` app.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`get`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),r(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'/heavy'`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, stuff)`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`}`)]),t(`
`),r(`span`,{class:`line`}),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`app.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`use`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(plugin)`)])])])],-1),r(`h3`,{id:`懒加载`,tabindex:`-1`},[t(`懒加载 `),r(`a`,{class:`header-anchor`,href:`#懒加载`,"aria-label":`Permalink to “懒加载”`},`​`)],-1),r(`p`,null,`某些模块可能很大，在启动服务器之前导入可能不是一个好主意。`,-1),r(`p`,null,[t(`我们可以告诉 Elysia 跳过该模块，然后稍后注册模块，并在加载完成时使用 `),r(`code`,null,`import`),t(` 语句在 `),r(`code`,null,`use`),t(` 中注册模块：`)],-1),r(`div`,{class:`language-typescript`},[r(`button`,{title:`Copy Code`,class:`copy`}),r(`span`,{class:`lang`},`typescript`),r(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[r(`code`,null,[r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`app.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`use`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`import`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),r(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'./some-heavy-module'`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`))`)])])])],-1),r(`p`,null,`这将在导入完成后注册模块，使模块实现懒加载。`,-1),r(`p`,null,`延迟插件和懒加载模块将直接支持完整的类型推断。`,-1),r(`h2`,{id:`引用模型`,tabindex:`-1`},[t(`引用模型 `),r(`a`,{class:`header-anchor`,href:`#引用模型`,"aria-label":`Permalink to “引用模型”`},`​`)],-1),r(`p`,null,[t(`现在 Elysia 可以记住架构并直接在 Schema 字段中引用它们，而无需通过 `),r(`code`,null,`Elysia.setModel`),t(` 创建导入文件。`)],-1),r(`p`,null,`此可用架构列表提供了自动补全、完整的类型推断和您所期望的内联架构验证。`,-1),r(`p`,null,[t(`要使用引用模型，首先使用 `),r(`code`,null,`setModel`),t(` 注册模型，然后在 `),r(`code`,null,`schema`),t(` 中写入模型名称以引用模型：`)],-1),r(`div`,{class:`language-typescript`},[r(`button`,{title:`Copy Code`,class:`copy`}),r(`span`,{class:`lang`},`typescript`),r(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[r(`code`,null,[r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`const`),r(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` app`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` new`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Elysia`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    .`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`setModel`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        sign: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`Object`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            username: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(),`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            password: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        })`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    })`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    .`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`post`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),r(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'/sign'`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, ({ `),r(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`body`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` }) `),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` body, {`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        schema: {`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            body: `),r(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'sign'`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`,`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            response: `),r(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'sign'`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        }`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    })`)])])])],-1),r(`p`,null,[t(`这将提供已知模型的自动补全。 `),r(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 24 28`,src:`https://user-images.githubusercontent.com/35027979/213980696-8f20a934-c500-4f97-884c-ff2dd2efadfe.png`})],-1),r(`p`,null,[t(`并且类型引用可以防止您意外返回无效类型。 `),r(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 26 00`,src:`https://user-images.githubusercontent.com/35027979/213980738-0e99cb25-a50f-4888-8879-f00d4ad04363.png`})],-1),r(`p`,null,[t(`使用 `),r(`code`,null,`@elysiajs/swagger`),t(` 还将创建一个单独的 `),r(`code`,null,`Model`),t(` 部分来列出可用模型。 `),r(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 23 41`,src:`https://user-images.githubusercontent.com/35027979/213980936-5857e30b-fd4b-4fc3-8aff-fdb9054980d3.png`})],-1),r(`p`,null,`引用也能处理验证，就像您所期望的那样。`,-1),r(`p`,null,`简而言之，这与使用内联架构相同，但现在您只需输入架构的名称即可处理验证和类型，而不再需要一长串导入。`,-1),r(`h2`,{id:`openapi-详细字段`,tabindex:`-1`},[t(`OpenAPI 详细字段 `),r(`a`,{class:`header-anchor`,href:`#openapi-详细字段`,"aria-label":`Permalink to “OpenAPI 详细字段”`},`​`)],-1),r(`p`,null,[t(`引入一个新字段 `),r(`code`,null,`schema.detail`),t(`，用于定制路由的详细信息，遵循 OpenAPI Schema V2 的标准并支持自动补全。`)],-1),r(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 54 11`,src:`https://user-images.githubusercontent.com/35027979/213981321-5717e514-aa4b-492a-b45a-9e69099dc8a8.png`},null,-1),r(`p`,null,[t(`这使您能够编写更好的文档，并拥有一个完全可编辑的 Swagger，如您所愿： `),r(`img`,{width:`1624`,alt:`Screenshot 2566-01-23 at 13 23 41`,src:`https://user-images.githubusercontent.com/35027979/213981545-46efc6cc-34bc-4db2-86ed-530d27d7ba97.png`})],-1),r(`h2`,{id:`联合类型`,tabindex:`-1`},[t(`联合类型 `),r(`a`,{class:`header-anchor`,href:`#联合类型`,"aria-label":`Permalink to “联合类型”`},`​`)],-1),r(`p`,null,`Elysia 的先前版本有时在区分联合类型时存在问题，因为 Elysia 尝试捕获响应以为 Eden 创建完整的类型引用。`,-1),r(`p`,null,`这导致可能的类型失效。`,-1),r(`h2`,{id:`联合响应`,tabindex:`-1`},[t(`联合响应 `),r(`a`,{class:`header-anchor`,href:`#联合响应`,"aria-label":`Permalink to “联合响应”`},`​`)],-1),r(`p`,null,[t(`通过联合类型，现在可以使用 `),r(`code`,null,`schema.response[statusCode]`),t(` 返回多个响应状态。`)],-1),r(`div`,{class:`language-typescript`},[r(`button`,{title:`Copy Code`,class:`copy`}),r(`span`,{class:`lang`},`typescript`),r(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[r(`code`,null,[r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`app`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    .`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`post`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`        '/json/:id'`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`,`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        ({ `),r(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`body`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),r(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`params`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: { `),r(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`id`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` } }) `),r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` ({`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`            ...`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`body,`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            id`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        }),`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        {`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            schema: {`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                body: `),r(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'sign'`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`,`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                response: {`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`                    200`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`Object`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        username: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(),`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        password: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(),`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        id: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                    }),`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`                    400`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`Object`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                        error: t.`),r(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`String`),r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                    })`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`                }`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`            }`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`        }`)]),t(`
`),r(`span`,{class:`line`},[r(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`    )`)])])])],-1),r(`p`,null,[t(`Elysia 将尝试验证 `),r(`code`,null,`response`),t(` 中的所有架构，允许返回其中一种类型。`)],-1),r(`p`,null,`返回类型也被支持并在 Swagger 的响应中报告。`,-1),r(`h2`,{id:`更快的类型推断`,tabindex:`-1`},[t(`更快的类型推断 `),r(`a`,{class:`header-anchor`,href:`#更快的类型推断`,"aria-label":`Permalink to “更快的类型推断”`},`​`)],-1),r(`p`,null,`随着 Elysia 0.1 探索使用类型推断来改善开发者体验，我们发现由于重型类型推断和低效的自定义泛型，有时更新类型推断需要很长时间。`,-1),r(`p`,null,`通过 Elysia 0.2，类型推断现在经过速度优化，防止重复的重型类型展开，从而提高了更新类型和推断的性能。`,-1),r(`h2`,{id:`生态系统`,tabindex:`-1`},[t(`生态系统 `),r(`a`,{class:`header-anchor`,href:`#生态系统`,"aria-label":`Permalink to “生态系统”`},`​`)],-1),r(`p`,null,`Elysia 0.2 启用异步插件和延迟模块，许多之前无法实现的新插件已成为现实。`,-1),r(`p`,null,`例如：`,-1),r(`ul`,null,[r(`li`,null,`具有非阻塞能力的 Elysia 静态插件`),r(`li`,null,`Eden 具有多响应的联合类型推断`),r(`li`,null,`新的 Elysia Apollo 插件`)],-1),r(`h3`,{id:`显著改进`,tabindex:`-1`},[t(`显著改进： `),r(`a`,{class:`header-anchor`,href:`#显著改进`,"aria-label":`Permalink to “显著改进：”`},`​`)],-1),r(`ul`,null,[r(`li`,null,[r(`code`,null,`onRequest`),t(` 和 `),r(`code`,null,`onParse`),t(` 现在可以访问 `),r(`code`,null,`PreContext`)]),r(`li`,null,[t(`默认支持 `),r(`code`,null,`application/x-www-form-urlencoded`)]),r(`li`,null,[t(`正文解析器现在解析带有额外属性的 `),r(`code`,null,`content-type`),t(`，例如 `),r(`code`,null,`application/json;charset=utf-8`)]),r(`li`,null,`解码 URI 路径参数`),r(`li`,null,`如果 Elysia 未安装，Eden 现在报告错误`),r(`li`,null,`跳过已存在模型和装饰器的声明`)],-1),r(`h3`,{id:`破坏性更改`,tabindex:`-1`},[t(`破坏性更改： `),r(`a`,{class:`header-anchor`,href:`#破坏性更改`,"aria-label":`Permalink to “破坏性更改：”`},`​`)],-1),r(`ul`,null,[r(`li`,null,[r(`code`,null,`onParse`),t(` 现在接受 `),r(`code`,null,`(context: PreContext, contentType: string)`),t(` 而不是 `),r(`code`,null,`(request: Request, contentType: string)`),r(`ul`,null,[r(`li`,null,[t(`迁移时，请将 `),r(`code`,null,`.request`),t(` 添加到上下文以访问 `),r(`code`,null,`Request`)])])])],-1),r(`h3`,{id:`之后`,tabindex:`-1`},[t(`之后 `),r(`a`,{class:`header-anchor`,href:`#之后`,"aria-label":`Permalink to “之后”`},`​`)],-1),r(`p`,null,`感谢您支持 Elysia 并对该项目感兴趣。`,-1),r(`p`,null,`这个版本带来了更好的开发体验，并希望提供您用 Bun 编写出色软件所需的一切。`,-1),r(`p`,null,[t(`我们现在有一个 `),r(`a`,{href:`https://discord.gg/eaFJ2KDJck`,target:`_blank`,rel:`noreferrer`},`Discord 服务器`),t(`，您可以在这里询问有关 Elysia 的任何问题或只是来放松一下——欢迎大家加入。`)],-1),r(`p`,null,`有了这些出色的工具，我们期待看到您构建出惊人的软件。`,-1),r(`blockquote`,null,[r(`p`,null,`不要成为别人描绘的那些图像的一部分`),r(`p`,null,`不要在别人选择的展示中前进`),r(`p`,null,`你和我，活着去书写我们的故事`),r(`p`,null,`永远不会让你孤单，远离你的身边`)],-1)]]),_:1})]))}});export{s as __pageData,c as default};