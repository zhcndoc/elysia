import{C as e,Ct as t,S as n,T as r,V as i,_ as a,b as o,it as s}from"./chunks/vue.runtime.esm-bundler.BB7fvrom.js";import{t as c}from"./chunks/playground.3zPyrUX-.js";import"./chunks/store.BhCg9eIm.js";import"./chunks/utils.Btv7ixBe.js";import{t as l}from"./chunks/doc-link.Dx-nRjHy.js";const u=[{title:`Your own 404`,description:`Let's override a default 404 response your own`,test:{request:{url:`/No/existenceN`},response:{body:e=>e!==`NOT_FOUND`}}},{title:`Your Custom Error`,description:`Let's define your own custom error, throw it in GET "/" endpoint, and return a status 418`,test:{request:{method:`GET`,url:`/`},response:{status:418}}}],d=JSON.parse(`{"title":"错误处理 - Elysia 教程","description":"了解如何在 Elysia 中处理错误，包括自定义错误处理、错误代码和管理 Web 应用程序中异常的最佳实践。","frontmatter":{"title":"错误处理 - Elysia 教程","layout":false,"search":false,"authors":[],"head":[["meta",{"property":"og:title","content":"错误处理 - Elysia 教程"}],["meta",{"name":"description","content":"了解如何在 Elysia 中处理错误，包括自定义错误处理、错误代码和管理 Web 应用程序中异常的最佳实践。"}],["meta",{"property":"og:description","content":"了解如何在 Elysia 中处理错误，包括自定义错误处理、错误代码和管理 Web 应用程序中异常的最佳实践。"}]]},"headers":[],"relativePath":"tutorial/patterns/error-handling/index.md","filePath":"tutorial/patterns/error-handling/index.md","lastUpdated":1768116877000}`);var f=r({name:`tutorial/patterns/error-handling/index.md`,setup(r){return(r,d)=>(i(),o(`div`,null,[d[37]||=a(`div`,{style:{display:`none`},hidden:`true`,"aria-hidden":`true`},`Are you an LLM? You can read better optimized documentation at /tutorial/patterns/error-handling.md for this page in Markdown format`,-1),e(c,{code:t(`import { Elysia } from 'elysia'

class YourError extends Error {
	constructor(message: string) {
		super(message)
	}
}

new Elysia()
	.get('/', () => {
		return 'Hello Elysia!'
	})
	.listen(3000)
`),testcases:t(u),doc:`/patterns/error-handling`},{answer:s(()=>[...d[19]||=[n(' 1. 您可以通过 "NOT_FOUND" 缩小错误以覆盖 404 响应。 2. 使用带有 418 状态属性的 `.error()` 方法提供您的错误。 ',-1),a(`div`,{class:`language-typescript`},[a(`button`,{title:`Copy Code`,class:`copy`}),a(`span`,{class:`lang`},`typescript`),a(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[a(`code`,null,[a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`import`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` { Elysia } `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`from`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` 'elysia'`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`class`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` YourError`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` extends`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Error`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`	status`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` 418`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`	constructor`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`message`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`:`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` string`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`) {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`		super`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(message)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	}`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`}`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`new`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Elysia`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`error`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`		"YOUR_ERROR"`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: YourError`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	})`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`onError`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(({ `),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`code`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`status`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` }) `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`		if`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(code `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`===`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` "NOT_FOUND"`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`			return`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` "嗨，你好"`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	})`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`get`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'/'`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, () `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`		throw`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` new`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` YourError`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`"A"`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	})`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`listen`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`3000`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)])])])],-1)]]),default:s(()=>[d[20]||=a(`h1`,{id:`错误处理`,tabindex:`-1`},[n(`错误处理 `),a(`a`,{class:`header-anchor`,href:`#错误处理`,"aria-label":`Permalink to “错误处理”`},`​`)],-1),e(l,{href:`/essential/life-cycle#on-error-error-handling`},{default:s(()=>[...d[0]||=[n(`onError`,-1)]]),_:1}),d[21]||=n(` 在 `,-1),d[22]||=a(`strong`,null,`抛出错误`,-1),d[23]||=n(` 时被调用。`,-1),d[24]||=a(`p`,null,[n(`它接受与处理程序类似的 `),a(`strong`,null,`上下文`),n(`，但包含额外的：`)],-1),a(`ul`,null,[d[3]||=a(`li`,null,`error - 抛出的错误`,-1),a(`li`,null,[e(l,{href:`/essential/life-cycle#error-code`},{default:s(()=>[...d[1]||=[n(`code`,-1)]]),_:1}),d[2]||=n(` - 错误代码`,-1)])]),d[25]||=a(`div`,{class:`language-typescript`},[a(`button`,{title:`Copy Code`,class:`copy`}),a(`span`,{class:`lang`},`typescript`),a(`pre`,{class:`shiki shiki-themes github-light github-dark`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[a(`code`,null,[a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`import`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` { Elysia } `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`from`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` 'elysia'`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`new`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Elysia`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`onError`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(({ `),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`code`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`status`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` }) `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`		if`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(code `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`===`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` "NOT_FOUND"`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`			return`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` '呃~ 你迷路了吗？'`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`		return`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` status`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`418`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`"我错了！但我可爱，所以你会原谅我，对吧？"`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	})`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`get`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'/'`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, () `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` 'ok'`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`listen`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`3000`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)])])])],-1),a(`p`,null,[d[5]||=n(`您可以返回一个 `,-1),e(l,{href:`/essential/handler#status`},{default:s(()=>[...d[4]||=[n(`status`,-1)]]),_:1}),d[6]||=n(` 以覆盖默认错误状态。`,-1)]),d[26]||=a(`h2`,{id:`自定义错误`,tabindex:`-1`},[n(`自定义错误 `),a(`a`,{class:`header-anchor`,href:`#自定义错误`,"aria-label":`Permalink to “自定义错误”`},`​`)],-1),a(`p`,null,[d[8]||=n(`您可以如下提供带有 `,-1),e(l,{href:`/essential/life-cycle#error-code`},{default:s(()=>[...d[7]||=[n(`错误代码`,-1)]]),_:1}),d[9]||=n(` 的自定义错误：`,-1)]),d[27]||=a(`div`,{class:`language-typescript`},[a(`button`,{title:`Copy Code`,class:`copy`}),a(`span`,{class:`lang`},`typescript`),a(`pre`,{class:`shiki shiki-themes github-light github-dark has-diff`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[a(`code`,null,[a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`import`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` { Elysia } `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`from`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` 'elysia'`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`class`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` NicheError`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` extends`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Error`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`	constructor`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`message`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`:`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` string`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`) {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`		super`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(message)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	}`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`}`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`new`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Elysia`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`()`)]),n(`
`),a(`span`,{class:`line diff add`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`error`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`({ `)]),n(`
`),a(`span`,{class:`line diff add`},[a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`		'NICHE'`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`: NicheError `)]),n(`
`),a(`span`,{class:`line diff add`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	}) `)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`onError`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(({ `),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`error`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`code`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`status`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` }) `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`		if`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(code `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`===`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` 'NICHE'`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`) {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#6A737D`,"--shiki-dark":`#6A737D`}},`			// 类型为 NicheError`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`			console.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`log`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(error)`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`			return`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` status`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`418`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, `),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`"我们不知道你是怎么来到这里的"`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`		}`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	})`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`get`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'/'`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`, () `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`=>`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`		throw`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` new`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` NicheError`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},`'自定义错误消息'`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	})`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	.`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`listen`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`3000`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`)`)])])])],-1),a(`p`,null,[d[11]||=n(`Elysia 使用 `,-1),e(l,{href:`/essential/life-cycle#error-code`},{default:s(()=>[...d[10]||=[n(`错误代码`,-1)]]),_:1}),d[12]||=n(` 来缩小错误的类型。`,-1)]),d[28]||=a(`p`,null,`建议注册自定义错误，因为 Elysia 可以缩小类型。`,-1),d[29]||=a(`h3`,{id:`错误状态代码`,tabindex:`-1`},[n(`错误状态代码 `),a(`a`,{class:`header-anchor`,href:`#错误状态代码`,"aria-label":`Permalink to “错误状态代码”`},`​`)],-1),d[30]||=a(`p`,null,[n(`您还可以通过向类添加 `),a(`strong`,null,`status`),n(` 属性来提供自定义状态代码：`)],-1),d[31]||=a(`div`,{class:`language-typescript`},[a(`button`,{title:`Copy Code`,class:`copy`}),a(`span`,{class:`lang`},`typescript`),a(`pre`,{class:`shiki shiki-themes github-light github-dark has-diff`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[a(`code`,null,[a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`import`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` { Elysia } `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`from`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` 'elysia'`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`class`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` NicheError`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` extends`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Error`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line diff add`},[a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`	status`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` 418`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`	constructor`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`message`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`:`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` string`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`) {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`		super`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(message)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	}`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`}`)])])])],-1),a(`p`,null,[d[14]||=n(`如果抛出错误，Elysia 将使用此状态代码，请参见 `,-1),e(l,{href:`/error-handling.html#custom-status-code`},{default:s(()=>[...d[13]||=[n(`自定义状态代码`,-1)]]),_:1}),d[15]||=n(`。`,-1)]),d[32]||=a(`h3`,{id:`错误响应`,tabindex:`-1`},[n(`错误响应 `),a(`a`,{class:`header-anchor`,href:`#错误响应`,"aria-label":`Permalink to “错误响应”`},`​`)],-1),d[33]||=a(`p`,null,[n(`您还可以通过提供 `),a(`code`,null,`toResponse`),n(` 方法直接在错误中定义自定义错误响应：`)],-1),d[34]||=a(`div`,{class:`language-typescript`},[a(`button`,{title:`Copy Code`,class:`copy`}),a(`span`,{class:`lang`},`typescript`),a(`pre`,{class:`shiki shiki-themes github-light github-dark has-diff`,style:{"--shiki-light":`#24292e`,"--shiki-dark":`#e1e4e8`,"--shiki-light-bg":`#fff`,"--shiki-dark-bg":`#24292e`},tabindex:`0`,dir:`ltr`},[a(`code`,null,[a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`import`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` { Elysia } `),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`from`),a(`span`,{style:{"--shiki-light":`#032F62`,"--shiki-dark":`#9ECBFF`}},` 'elysia'`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`class`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` NicheError`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` extends`),a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},` Error`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`	status`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},` =`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` 418`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`	constructor`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(`),a(`span`,{style:{"--shiki-light":`#E36209`,"--shiki-dark":`#FFAB70`}},`message`),a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`:`),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},` string`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`) {`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`		super`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`(message)`)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	}`)]),n(`
`),a(`span`,{class:`line`}),n(`
`),a(`span`,{class:`line diff add`},[a(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#B392F0`}},`	toResponse`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`() { `)]),n(`
`),a(`span`,{class:`line diff add`},[a(`span`,{style:{"--shiki-light":`#D73A49`,"--shiki-dark":`#F97583`}},`		return`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},` { message: `),a(`span`,{style:{"--shiki-light":`#005CC5`,"--shiki-dark":`#79B8FF`}},`this`),a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`.message } `)]),n(`
`),a(`span`,{class:`line diff add`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`	} `)]),n(`
`),a(`span`,{class:`line`},[a(`span`,{style:{"--shiki-light":`#24292E`,"--shiki-dark":`#E1E4E8`}},`}`)])])])],-1),a(`p`,null,[d[17]||=n(`如果抛出错误，Elysia 将使用此响应，请参见 `,-1),e(l,{href:`/error-handling.html#custom-error-response`},{default:s(()=>[...d[16]||=[n(`自定义错误响应`,-1)]]),_:1}),d[18]||=n(`。`,-1)]),d[35]||=a(`h2`,{id:`练习`,tabindex:`-1`},[n(`练习 `),a(`a`,{class:`header-anchor`,href:`#练习`,"aria-label":`Permalink to “练习”`},`​`)],-1),d[36]||=a(`p`,null,`现在让我们尝试扩展 Elysia 的上下文。`,-1)]),_:1},8,[`code`,`testcases`])]))}});export{d as __pageData,f as default};