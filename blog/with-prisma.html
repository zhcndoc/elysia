<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>ç”¨ Elysia åŠ é€Ÿä½ çš„ä¸‹ä¸€ä¸ª Prisma æœåŠ¡å™¨ - Elysia ä¸­æ–‡æ–‡æ¡£</title>
    <meta name="description" content="åœ¨ Bun å’Œ Elysia çš„æ”¯æŒä¸‹ï¼Œæˆ‘ä»¬è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„å¼€å‘è€…ä½“éªŒæ—¶ä»£ã€‚é€šè¿‡ Prismaï¼Œæˆ‘ä»¬å¯ä»¥åŠ é€Ÿä¸æ•°æ®åº“çš„äº¤äº’ï¼Œè€Œ Elysia åŠ é€Ÿäº†æˆ‘ä»¬åœ¨å¼€å‘è€…ä½“éªŒå’Œæ€§èƒ½æ–¹é¢åˆ›å»ºåå° Web æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.DxhFWJeQ.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BFhO6Lf6.js"></script>
    <link rel="modulepreload" href="/assets/chunks/plugin-vue_export-helper.CKgBKD3c.js">
    <link rel="modulepreload" href="/assets/chunks/preload-helper.CPrT4D5T.js">
    <link rel="modulepreload" href="/assets/chunks/client.Bm-rI_R6.js">
    <link rel="modulepreload" href="/assets/chunks/use-dark.D_Ezswh_.js">
    <link rel="modulepreload" href="/assets/chunks/ray.DH5EacAR.js">
    <link rel="modulepreload" href="/assets/chunks/sponsor.data.9Il3pjW5.js">
    <link rel="modulepreload" href="/assets/chunks/floating-ui.core.DWOiM_yY.js">
    <link rel="modulepreload" href="/assets/chunks/vue.runtime.esm-bundler.BB7fvrom.js">
    <link rel="modulepreload" href="/assets/chunks/dist.CXSQmjX6.js">
    <link rel="modulepreload" href="/assets/chunks/createLucideIcon.nO6fZ36v.js">
    <link rel="modulepreload" href="/assets/chunks/file.B0qe36Kb.js">
    <link rel="modulepreload" href="/assets/chunks/search.KaGBbfxL.js">
    <link rel="modulepreload" href="/assets/chunks/sparkles.DZ7QL8Kt.js">
    <link rel="modulepreload" href="/assets/chunks/pinia.BlUWc_69.js">
    <link rel="modulepreload" href="/assets/chunks/Layout.BZ0rZhD9.js">
    <link rel="modulepreload" href="/assets/chunks/banner.DpkE44SY.js">
    <link rel="modulepreload" href="/assets/blog_with-prisma.md.CgRVvmDH.lean.js">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="icon" href="/assets/elysia.png">
    <meta property="og:image" content="https://elysiajs.com/blog/with-prisma/prism.webp">
    <meta property="og:image:width" content="2560">
    <meta property="og:image:height" content="1440">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:image" content="https://elysiajs.com/blog/with-prisma/prism.webp">
    <meta property="og:title" content="ç”¨ Elysia åŠ é€Ÿä½ çš„ä¸‹ä¸€ä¸ª Prisma æœåŠ¡å™¨">
    <meta property="og:description" content="åœ¨ Bun å’Œ Elysia çš„æ”¯æŒä¸‹ï¼Œæˆ‘ä»¬è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„å¼€å‘è€…ä½“éªŒæ—¶ä»£ã€‚é€šè¿‡ Prismaï¼Œæˆ‘ä»¬å¯ä»¥åŠ é€Ÿä¸æ•°æ®åº“çš„äº¤äº’ï¼Œè€Œ Elysia åŠ é€Ÿäº†æˆ‘ä»¬åœ¨å¼€å‘è€…ä½“éªŒå’Œæ€§èƒ½æ–¹é¢åˆ›å»ºåå° Web æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚">
    <script async src="https://www.zhcndoc.com/js/common.js"></script>
    <link rel="preload" as="image" href="/assets/elysia_v.webp" fetchpriority="high">
    <link rel="preload" as="image" href="/assets/elysia.svg" fetchpriority="high">
    <link rel="preload" as="image" href="/assets/shigure-ui-smol.gif" fetchpriority="low">
    <script id="check-dark-mode">(()=>{let e=localStorage.getItem(`vitepress-theme-appearance`)||`auto`,t=window.matchMedia(`(prefers-color-scheme: dark)`).matches;(!e||e===`auto`?t:e===`dark`)&&document.documentElement.classList.add(`dark`)})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle(`mac`,/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body><!--teleport start anchor--><div role="button" aria-expanded="true" aria-haspopup="listbox" aria-labelledby="localsearch-label" class="pointer-events-none VPLocalSearchBox" data-v-0fd83197><!--[--><!--]--><!--[--><!--]--><button data-v-0fd83197></button></div><!--teleport anchor-->
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!--[--><img class="VPImage logo" src="/assets/elysia.svg" alt data-v-8426fc1a><!--]--><span data-v-1e38c6bc>Elysia ä¸­æ–‡æ–‡æ¡£</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--[--><!--[--><button class="clicky lg:hidden size-10 ml-4 grid place-items-center text-cyan-400 dark:text-cyan-300 font-medium bg-cyan-300/10 dark:bg-cyan-300/5 !rounded-lg backdrop-blur-md"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles-icon lucide-sparkles"><path d="M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"></path><path d="M20 2v4"></path><path d="M22 4h-4"></path><circle cx="4" cy="20" r="2"></circle></svg></button><!----><!--]--><!--]--><!--]--><section class="VPNavBarSearch search" data-v-70946a35><!--teleport start--><!--teleport end--><div id="local-search"><button type="button" aria-label="æœç´¢æ–‡æ¡£" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.375" stroke-linecap="round" stroke-linejoin="round" class="lucide inline -translate-y-0.25 scale-125 sm:scale-100 lucide-search-icon lucide-search inline -translate-y-0.25 scale-125 sm:scale-100"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div></section><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-70946a35 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/table-of-content.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>æ–‡æ¡£</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>åšå®¢</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/illust.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Illust</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-70946a35 data-v-4c1766e2 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="å¤šè¯­è¨€" data-v-42cb505d><span class="text" data-v-42cb505d><span class="vpi-languages option-icon" data-v-42cb505d></span><!----><span class="vpi-chevron-down text-icon" data-v-42cb505d></span></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><div class="items" data-v-4c1766e2><p class="title" data-v-4c1766e2>ç®€ä½“ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-4c1766e2 data-v-faf5b206><a class="VPLink link vp-external-link-icon" href="https://elysiajs.com/blog/with-prisma.html" target="_blank" rel="noreferrer" lang="en" data-v-faf5b206><!--[--><span data-v-faf5b206>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-70946a35 data-v-0394ad82 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/elysiajs/elysia" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/elysiajs" aria-label="twitter" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/eaFJ2KDJck" aria-label="discord" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-discord"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><div class="group translations" data-v-bf2fac68><p class="trans-title" data-v-bf2fac68>ç®€ä½“ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-bf2fac68 data-v-faf5b206><a class="VPLink link vp-external-link-icon" href="https://elysiajs.com/blog/with-prisma.html" target="_blank" rel="noreferrer" lang="en" data-v-faf5b206><!--[--><span data-v-faf5b206>English</span><!--]--></a></div><!--]--></div><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>ä¸»é¢˜</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bf2fac68><div class="item social-links" data-v-bf2fac68><div class="VPSocialLinks social-links-list" data-v-bf2fac68 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/elysiajs/elysia" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/elysiajs" aria-label="twitter" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/eaFJ2KDJck" aria-label="discord" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-discord"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>å›åˆ°é¡¶éƒ¨</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--[--><!--[--><div class="absolute flex flex-col z-[40] w-full !max-w-full items-center justify-center bg-transparent transition-bg overflow-hidden h-[220px] top-0 left-0 opacity-25 dark:opacity-[.55] pointer-events-none" data-v-bf23a8df><div class="-static ray absolute opacity-60" data-v-bf23a8df></div></div><!--]--><!--]--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><div className="relative mb-4 w-full rounded-md border border-gray-950/5 p-2 dark:border-white/10"><a href="https://www.rainyun.com/mm_?s=zhcndoc" target="_blank" className="absolute inset-0 z-10" data-umami-event="ads-rainyun"></a><div className="flex w-full justify-center"><img src="/ads/rainyun_1.png" className="w-full rounded-sm"></div></div><!--]--><!--]--><!--]--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>ç›®å½•</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--[--><!--[--><div id="open-elysia-in" class="flex gap-2.5 justify-between items-center pt-0.5 pr-2 text-gray-400 dark:text-gray-500 text-xs mb-1"><button class="flex items-center gap-1 clicky pl-2 pr-1 py-1 -translate-x-2 rounded-full interact:text-sky-500 interact:bg-sky-300/15 transition duration-500 ease-out-expo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles-icon lucide-sparkles"><path d="M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"></path><path d="M20 2v4"></path><path d="M22 4h-4"></path><circle cx="4" cy="20" r="2"></circle></svg> è¯¢é—®æ­¤é¡µé¢ </button><div class="relative z-10 flex justify-center items-center gap-2.5 *:z-20 [&amp;&gt;a&gt;svg]:size-4.5 sm:[&amp;&gt;a&gt;svg]:size-5 [&amp;&gt;a&gt;svg]:opacity-50 [&amp;&gt;a&gt;svg]:interact:opacity-100 [&amp;&gt;a&gt;svg]:transition-opacity"> åœ¨ AI å·¥å…·ä¸­æ‰“å¼€ <a href="https://chatgpt.com/?prompt=%E6%88%91%E6%AD%A3%E5%9C%A8%E6%9F%A5%E7%9C%8B%20https://elysia.zhcndoc.com/blog/with-prisma.html%E3%80%82%0A%0A%E8%AF%B7%E6%82%A8%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8B%E8%BF%99%E4%B8%AA%E6%A6%82%E5%BF%B5%EF%BC%8C%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B%EF%BC%8C%E5%B9%B6%E5%9B%9E%E7%AD%94%E6%88%91%E5%85%B3%E4%BA%8E%E5%AE%83%E7%9A%84%E4%BB%BB%E4%BD%95%E9%97%AE%E9%A2%98%E5%A5%BD%E5%90%97%EF%BC%9F" class="clicky" target="_blank" rel="noopener noreferrer" title="Open in ChatGPT"><svg preserveAspectRatio="xMidYMid" viewBox="0 0 256 260" fill="currentColor"><path d="M239.184 106.203a64.716 64.716 0 0 0-5.576-53.103C219.452 28.459 191 15.784 163.213 21.74A65.586 65.586 0 0 0 52.096 45.22a64.716 64.716 0 0 0-43.23 31.36c-14.31 24.602-11.061 55.634 8.033 76.74a64.665 64.665 0 0 0 5.525 53.102c14.174 24.65 42.644 37.324 70.446 31.36a64.72 64.72 0 0 0 48.754 21.744c28.481.025 53.714-18.361 62.414-45.481a64.767 64.767 0 0 0 43.229-31.36c14.137-24.558 10.875-55.423-8.083-76.483Zm-97.56 136.338a48.397 48.397 0 0 1-31.105-11.255l1.535-.87 51.67-29.825a8.595 8.595 0 0 0 4.247-7.367v-72.85l21.845 12.636c.218.111.37.32.409.563v60.367c-.056 26.818-21.783 48.545-48.601 48.601Zm-104.466-44.61a48.345 48.345 0 0 1-5.781-32.589l1.534.921 51.722 29.826a8.339 8.339 0 0 0 8.441 0l63.181-36.425v25.221a.87.87 0 0 1-.358.665l-52.335 30.184c-23.257 13.398-52.97 5.431-66.404-17.803ZM23.549 85.38a48.499 48.499 0 0 1 25.58-21.333v61.39a8.288 8.288 0 0 0 4.195 7.316l62.874 36.272-21.845 12.636a.819.819 0 0 1-.767 0L41.353 151.53c-23.211-13.454-31.171-43.144-17.804-66.405v.256Zm179.466 41.695-63.08-36.63L161.73 77.86a.819.819 0 0 1 .768 0l52.233 30.184a48.6 48.6 0 0 1-7.316 87.635v-61.391a8.544 8.544 0 0 0-4.4-7.213Zm21.742-32.69-1.535-.922-51.619-30.081a8.39 8.39 0 0 0-8.492 0L99.98 99.808V74.587a.716.716 0 0 1 .307-.665l52.233-30.133a48.652 48.652 0 0 1 72.236 50.391v.205ZM88.061 139.097l-21.845-12.585a.87.87 0 0 1-.41-.614V65.685a48.652 48.652 0 0 1 79.757-37.346l-1.535.87-51.67 29.825a8.595 8.595 0 0 0-4.246 7.367l-.051 72.697Zm11.868-25.58 28.138-16.217 28.188 16.218v32.434l-28.086 16.218-28.188-16.218-.052-32.434Z"></path></svg></a><a href="https://claude.ai/new?q=%E6%88%91%E6%AD%A3%E5%9C%A8%E6%9F%A5%E7%9C%8B%20https://elysia.zhcndoc.com/blog/with-prisma.html%E3%80%82%0A%0A%E8%AF%B7%E6%82%A8%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8B%E8%BF%99%E4%B8%AA%E6%A6%82%E5%BF%B5%EF%BC%8C%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B%EF%BC%8C%E5%B9%B6%E5%9B%9E%E7%AD%94%E6%88%91%E5%85%B3%E4%BA%8E%E5%AE%83%E7%9A%84%E4%BB%BB%E4%BD%95%E9%97%AE%E9%A2%98%E5%A5%BD%E5%90%97%EF%BC%9F" class="clicky" target="_blank" rel="noopener noreferrer" title="Open in Claude"><svg fill-rule="evenodd" viewBox="0 0 24 24" fill="currentColor"><title>Anthropic</title><path d="M13.827 3.52h3.603L24 20h-3.603l-6.57-16.48zm-7.258 0h3.767L16.906 20h-3.674l-1.343-3.461H5.017l-1.344 3.46H0L6.57 3.522zm4.132 9.959L8.453 7.687 6.205 13.48H10.7z"></path></svg></a><a href="https://elysia.zhcndoc.com/blog/with-prisma.md" class="clicky" target="_blank" rel="noopener noreferrer" title="Open in Markdown"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-icon lucide-file"><path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"></path><path d="M14 2v5a1 1 0 0 0 1 1h5"></path></svg></a></div></div><!--]--><!--]--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _blog_with-prisma" data-v-7011f0d8><div><!--[--><article id="blog" class="flex flex-col max-w-3xl w-full mx-auto mt-8"><a href="/blog" class="inline-flex items-center gap-2 text-base !text-gray-500 dark:!text-gray-400 !no-underline hover:!text-pink-500 focus:!text-pink-500 my-2 mr-auto"><span>â†</span> Blog </a><h1 class="!text-3xl !md:text-4xl font-medium">ç”¨ Elysia åŠ é€Ÿä½ çš„ä¸‹ä¸€ä¸ª Prisma æœåŠ¡å™¨</h1><aside class="flex gap-2 items-center mt-3"><img class="w-9 h-9 rounded-full" src="/blog/authors/lilith-happy.webp" alt="saltyaom"><div class="flex flex-col justify-start"><h3 class="!text-sm !m-0 opacity-75">saltyaom</h3><p class="flex flex-row items-center gap-2 !text-xs !m-0 opacity-75"><time datetime="2023 å¹´ 6 æœˆ 4 æ—¥">2023 å¹´ 6 æœˆ 4 æ—¥</time><span>ãƒ¼</span><a href="https://twitter.com/saltyaom" target="_blank">@saltyaom</a></p></div></aside><img src="/blog/with-prisma/prism.webp" alt="ä¸­å¿ƒæ”¾ç½®çš„ä¸‰è§’æ£±é•œ" class="border w-full mt-5 mb-2"><main id="blog-content"><!--[--> Prisma æ˜¯ä¸€ä¸ªè‘—åçš„ TypeScript ORMï¼Œä»¥å…¶ä¼˜ç§€çš„å¼€å‘è€…ä½“éªŒè€Œé—»åã€‚ <p>å®ƒæä¾›äº†ç±»å‹å®‰å…¨å’Œç›´è§‚çš„ APIï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨æµç•…è‡ªç„¶çš„è¯­æ³•ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚</p><p>ç¼–å†™æ•°æ®åº“æŸ¥è¯¢å°±åƒä½¿ç”¨ TypeScript çš„è‡ªåŠ¨è¡¥å…¨ç¼–å†™æ•°æ®ç»“æ„ä¸€æ ·ç®€å•ï¼Œéšå Prisma ä¼šç”Ÿæˆé«˜æ•ˆçš„ SQL æŸ¥è¯¢å¹¶åœ¨åå°å¤„ç†æ•°æ®åº“è¿æ¥ã€‚</p><p>Prisma çš„ä¸€ä¸ªçªå‡ºç‰¹ç‚¹æ˜¯å®ƒä¸æµè¡Œæ•°æ®åº“çš„æ— ç¼é›†æˆï¼Œä¾‹å¦‚ï¼š</p><ul><li>PostgreSQL</li><li>MySQL</li><li>SQLite</li><li>SQL Server</li><li>MongoDB</li><li>CockroachDB</li></ul><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»åœ°é€‰æ‹©æœ€é€‚åˆæˆ‘ä»¬é¡¹ç›®éœ€æ±‚çš„æ•°æ®åº“ï¼Œè€Œä¸å¿…å¦¥åäº Prisma å¸¦æ¥çš„å¼ºå¤§æ€§èƒ½ã€‚</p><p>è¿™æ„å‘³ç€ä½ å¯ä»¥ä¸“æ³¨äºçœŸæ­£é‡è¦çš„äº‹æƒ…ï¼šæ„å»ºåº”ç”¨ç¨‹åºé€»è¾‘ã€‚</p><p>Prisma æ˜¯ Elysia çš„çµæ„Ÿä¹‹ä¸€ï¼Œå…¶å£°æ˜æ€§ API å’Œæµç•…çš„å¼€å‘ä½“éªŒè®©äººæ„‰æ‚¦ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href="https://bun.sh/blog/bun-v0.6.7" target="_blank" rel="noreferrer">Bun 0.6.7 çš„å‘å¸ƒ</a> è®©æœŸå¾…å·²ä¹…çš„æƒ³æ³•æˆçœŸï¼ŒBun ç°åœ¨åŸç”Ÿæ”¯æŒ Prismaã€‚</p><h2 id="elysia" tabindex="-1">Elysia <a class="header-anchor" href="#elysia" aria-label="Permalink to â€œElysiaâ€">â€‹</a></h2><p>å½“ä½ é—®åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ¡†æ¶å’Œ Bun æ­é…æ—¶ï¼ŒElysia æ˜¯æ˜¾è€Œæ˜“è§çš„é€‰æ‹©ã€‚</p><p>è™½ç„¶ä½ å¯ä»¥ä½¿ç”¨ Express ä¸ Bunï¼Œä½† Elysia æ˜¯ä¸“ä¸º Bun æ„å»ºçš„ã€‚</p><p>Elysia çš„æ€§èƒ½å‡ ä¹æ¯” Express å¿«äº† 19 å€ï¼Œç»“åˆäº†å£°æ˜æ€§ APIï¼Œèƒ½å¤Ÿåˆ›å»ºç»Ÿä¸€çš„ç±»å‹ç³»ç»Ÿå’Œç«¯åˆ°ç«¯çš„ç±»å‹å®‰å…¨ã€‚</p><p>Elysia ä»¥å…¶æµç•…çš„å¼€å‘è€…ä½“éªŒè€Œé—»åï¼Œå°¤å…¶æ˜¯è‡ªæ—©æœŸä»¥æ¥ Elysia å°±è¢«è®¾è®¡ç”¨äºä¸ Prisma ä¸€èµ·ä½¿ç”¨ã€‚</p><p>å‡­å€Ÿ Elysia çš„ä¸¥æ ¼ç±»å‹éªŒè¯ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ä½¿ç”¨å£°æ˜æ€§ API é›†æˆ Elysia å’Œ Prismaã€‚</p><p>æ¢å¥è¯è¯´ï¼ŒElysia ç¡®ä¿è¿è¡Œæ—¶ç±»å‹ä¸ TypeScript çš„ç±»å‹å§‹ç»ˆåŒæ­¥ï¼Œä½¿å…¶è¡¨ç°å¾—åƒä¸€ç§ç±»å‹ä¸¥æ ¼çš„è¯­è¨€ï¼Œä½ å¯ä»¥å®Œå…¨ä¿¡ä»»ç±»å‹ç³»ç»Ÿï¼Œæå‰å‘ç°ä»»ä½•ç±»å‹é”™è¯¯ï¼Œå‡å°‘ä¸ç±»å‹ç›¸å…³çš„è°ƒè¯•é”™è¯¯ã€‚</p><h2 id="è®¾ç½®" tabindex="-1">è®¾ç½® <a class="header-anchor" href="#è®¾ç½®" aria-label="Permalink to â€œè®¾ç½®â€">â€‹</a></h2><p>æˆ‘ä»¬å¼€å§‹çš„ç¬¬ä¸€æ­¥æ˜¯è¿è¡Œ <code>bun create</code> æ¥è®¾ç½®ä¸€ä¸ª Elysia æœåŠ¡å™¨ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> elysia</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> elysia-prisma</span></span></code></pre></div><p>å…¶ä¸­ <code>elysia-prisma</code> æ˜¯æˆ‘ä»¬çš„é¡¹ç›®åç§°ï¼ˆæ–‡ä»¶å¤¹ç›®çš„åœ°ï¼‰ï¼Œå¯ä»¥è‡ªç”±æ›´æ”¹ä¸ºä½ å–œæ¬¢çš„åç§°ã€‚</p><p>ç°åœ¨è¿›å…¥æˆ‘ä»¬çš„æ–‡ä»¶å¤¹ï¼Œå®‰è£… Prisma CLI ä½œä¸ºå¼€å‘ä¾èµ–ã€‚</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bun add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d prisma</span></span></code></pre></div><p>ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>prisma init</code> è®¾ç½® Prisma é¡¹ç›®ã€‚</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bunx prisma init</span></span></code></pre></div><p><code>bunx</code> æ˜¯ Bun çš„å‘½ä»¤ï¼Œç›¸å½“äº <code>npx</code>ï¼Œå…è®¸æˆ‘ä»¬æ‰§è¡ŒåŒ…çš„æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>è®¾ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° Prisma ä¼šæ›´æ–° <code>.env</code> æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªåä¸º <strong>prisma</strong> çš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹å†…æœ‰ <strong>schema.prisma</strong> æ–‡ä»¶ã€‚</p><p><strong>schema.prisma</strong> æ˜¯ä½¿ç”¨ Prisma çš„ schema è¯­è¨€å®šä¹‰çš„æ•°æ®åº“æ¨¡å‹ã€‚</p><p>è®©æˆ‘ä»¬å°† <strong>schema.prisma</strong> æ–‡ä»¶æ›´æ–°å¦‚ä¸‹ä½œä¸ºæ¼”ç¤ºï¼š</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">generator client {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  provider </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;prisma-client-js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">datasource db {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  provider </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;postgresql&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DATABASE_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model User {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id        Int     @id @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">autoincrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  username  String  @unique</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  password  String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è¿™æ®µä»£ç å‘Šè¯‰ Prisma æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªåä¸º <strong>User</strong> çš„è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹åˆ—ï¼š</p><table tabindex="0"><thead><tr><th>åˆ—å</th><th>ç±»å‹</th><th>çº¦æŸ</th></tr></thead><tbody><tr><td>id</td><td>æ•°å­—</td><td>ä¸»é”®å¹¶è‡ªåŠ¨å¢å€¼</td></tr><tr><td>username</td><td>å­—ç¬¦ä¸²</td><td>å”¯ä¸€</td></tr><tr><td>password</td><td>å­—ç¬¦ä¸²</td><td>-</td></tr></tbody></table><p>ç„¶å Prisma ä¼šè¯»å–æ¨¡å¼ï¼Œå¹¶æ ¹æ® <code>.env</code> æ–‡ä»¶ä¸­çš„ DATABASE_URLï¼Œå› æ­¤åœ¨åŒæ­¥æˆ‘ä»¬çš„æ•°æ®åº“ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®šä¹‰ <code>DATABASE_URL</code>ã€‚</p><p>ç”±äºæˆ‘ä»¬æ²¡æœ‰æ­£åœ¨è¿è¡Œçš„æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨ Docker è®¾ç½®ä¸€ä¸ªï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5432:5432</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POSTGRES_PASSWORD=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12345678</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span></span></code></pre></div><p>ç°åœ¨è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>.env</code> æ–‡ä»¶å¹¶ç¼–è¾‘ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>DATABASE_URL=&quot;postgresql://postgres:12345678@localhost:5432/db?schema=public&quot;</span></span></code></pre></div><p>ç„¶åæˆ‘ä»¬å¯ä»¥è¿è¡Œ <code>prisma migrate</code> æ¥åŒæ­¥æ•°æ®åº“ä¸ Prisma æ¨¡å¼ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bunx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><p>ä¹‹å Prisma å°†æ ¹æ®æˆ‘ä»¬çš„æ¨¡å¼ç”Ÿæˆå¼ºç±»å‹çš„ Prisma Client ä»£ç ã€‚</p><p>è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­è·å¾—è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ£€æŸ¥ï¼Œåœ¨ç¼–è¯‘æ—¶æ•è·æ½œåœ¨é”™è¯¯ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚</p><h2 id="è¿›å…¥ä»£ç " tabindex="-1">è¿›å…¥ä»£ç  <a class="header-anchor" href="#è¿›å…¥ä»£ç " aria-label="Permalink to â€œè¿›å…¥ä»£ç â€">â€‹</a></h2><p>åœ¨æˆ‘ä»¬çš„ <strong>src/index.ts</strong> ä¸­ï¼Œæ›´æ–° Elysia æœåŠ¡å™¨ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·æ³¨å†Œæ¥å£ã€‚</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">( </span></span>
<span class="line diff add"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;/sign-up&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            data: body </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }) </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `ğŸ¦Š Elysia æ­£åœ¨è¿è¡Œäº ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>æˆ‘ä»¬åˆšåˆšåˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œç”¨äºä½¿ç”¨ Elysia å’Œ Prisma å‘æ•°æ®åº“æ’å…¥æ–°ç”¨æˆ·ã€‚</p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p><strong>é‡è¦</strong>çš„æ˜¯ï¼Œåœ¨è¿”å› Prisma å‡½æ•°æ—¶ï¼Œä½ åº”è¯¥å§‹ç»ˆå°†å›è°ƒå‡½æ•°æ ‡è®°ä¸º asyncã€‚</p><p>å› ä¸º Prisma å‡½æ•°ä¸è¿”å›åŸç”Ÿ Promiseï¼ŒElysia ä¸èƒ½åŠ¨æ€å¤„ç†è‡ªå®šä¹‰ Promise ç±»å‹ï¼Œä½†é€šè¿‡é™æ€ä»£ç åˆ†æï¼Œé€šè¿‡å°†å›è°ƒå‡½æ•°æ ‡è®°ä¸º asyncï¼ŒElysia ä¼šå°è¯•ç­‰å¾…å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œä»è€Œå…è®¸æˆ‘ä»¬æ˜ å°„ Prisma ç»“æœã€‚</p></div><p>ç°åœ¨é—®é¢˜æ˜¯ï¼Œbody å¯èƒ½æ˜¯ä»»ä½•å†…å®¹ï¼Œè€Œä¸ä»…é™äºæˆ‘ä»¬é¢„æœŸå®šä¹‰çš„ç±»å‹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ Elysia çš„ç±»å‹ç³»ç»Ÿæ¥æ”¹è¿›è¿™ä¸€ç‚¹ã€‚</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia, t } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;/sign-up&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            data: body</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }),</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        { </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            body: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                username: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                password: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    minLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }) </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }) </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `ğŸ¦Š Elysia æ­£åœ¨è¿è¡Œäº ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>è¿™å‘Šè¯‰ Elysia éªŒè¯ä¼ å…¥è¯·æ±‚çš„ body æ˜¯å¦åŒ¹é…æŒ‡å®šçš„å½¢çŠ¶ï¼Œå¹¶å°†å›è°ƒä¸­ <code>body</code> çš„ TypeScript ç±»å‹æ›´æ–°ä¸ºåŒ¹é…ç›¸åŒç±»å‹ï¼š</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;body&#39; ç°åœ¨çš„ç±»å‹å¦‚ä¸‹ï¼š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è¿™æ„å‘³ç€å¦‚æœè¿™ä¸ªå½¢çŠ¶ä¸æ•°æ®åº“è¡¨ä¸åŒ¹é…ï¼Œå®ƒä¼šç«‹å³ç»™ä½ è­¦å‘Šã€‚</p><p>è¿™åœ¨ä½ éœ€è¦ç¼–è¾‘è¡¨æ ¼æˆ–æ‰§è¡Œè¿ç§»æ—¶éå¸¸æœ‰æ•ˆï¼ŒElysia å¯ä»¥é€è¡Œè®°å½•é”™è¯¯ï¼Œå› ä¸ºç±»å‹å†²çªåœ¨è¾¾åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰ã€‚</p><h2 id="é”™è¯¯å¤„ç†" tabindex="-1">é”™è¯¯å¤„ç† <a class="header-anchor" href="#é”™è¯¯å¤„ç†" aria-label="Permalink to â€œé”™è¯¯å¤„ç†â€">â€‹</a></h2><p>ç”±äºæˆ‘ä»¬çš„ <code>username</code> å­—æ®µæ˜¯å”¯ä¸€çš„ï¼Œæœ‰æ—¶ Prisma å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå¯èƒ½ä¼šåœ¨å°è¯•æ³¨å†Œæ—¶æ„å¤–é‡å¤ <code>username</code>ï¼Œå¦‚ï¼š</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Invalid </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`prisma.user.create()`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invocation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Unique constraint failed on the </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`username`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>é»˜è®¤çš„ Elysia é”™è¯¯å¤„ç†ç¨‹åºå¯ä»¥è‡ªåŠ¨å¤„ç†è¿™ç§æƒ…å†µï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®šä½¿ç”¨ Elysia çš„å±€éƒ¨ <code>onError</code> é’©å­æ¥æ”¹è¿›ï¼š</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia, t } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            data: body</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {  </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (code) {  </span></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // Prisma P2002: &quot;Unique constraint failed on the {constraint}&quot;</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;P2002&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:  </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”¨æˆ·åå¿…é¡»æ˜¯å”¯ä¸€çš„&#39;</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        }  </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }  </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            body: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                username: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                password: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    minLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `ğŸ¦Š Elysia æ­£åœ¨è¿è¡Œäº ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>ä½¿ç”¨ <code>error</code> é’©å­ï¼Œå›è°ƒå†…éƒ¨æŠ›å‡ºçš„ä»»ä½•é”™è¯¯éƒ½ä¼šä¼ é€’åˆ° <code>error</code> é’©å­ï¼Œå…è®¸æˆ‘ä»¬å®šä¹‰è‡ªå®šä¹‰é”™è¯¯å¤„ç†ã€‚</p><p>æ ¹æ® <a href="https://www.prisma.io/docs/reference/api-reference/error-reference#p2002" target="_blank" rel="noreferrer">Prisma æ–‡æ¡£</a>ï¼Œé”™è¯¯ä»£ç  &#39;P2002&#39; æ„å‘³ç€æ‰§è¡ŒæŸ¥è¯¢æ—¶è¿åäº†å”¯ä¸€çº¦æŸã€‚</p><p>ç”±äºæ­¤è¡¨åªæœ‰ä¸€ä¸ª <code>username</code> å­—æ®µæ˜¯å”¯ä¸€çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­è¯¥é”™è¯¯æ˜¯ç”±äºç”¨æˆ·åä¸å”¯ä¸€å¼•èµ·ï¼Œå› æ­¤æˆ‘ä»¬è¿”å›è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯ï¼š</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”¨æˆ·åå¿…é¡»æ˜¯å”¯ä¸€çš„&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å½“å”¯ä¸€çº¦æŸå¤±è´¥æ—¶ï¼Œè¿™å°†è¿”å›æˆ‘ä»¬è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯çš„ JSON ç­‰æ•ˆé¡¹ã€‚</p><p>ä½¿æˆ‘ä»¬èƒ½å¤Ÿæµç•…åœ°ä» Prisma é”™è¯¯ä¸­å®šä¹‰ä»»ä½•è‡ªå®šä¹‰é”™è¯¯ã€‚</p><h2 id="å¥–åŠ±-å‚è€ƒæ¨¡å¼" tabindex="-1">å¥–åŠ±ï¼šå‚è€ƒæ¨¡å¼ <a class="header-anchor" href="#å¥–åŠ±-å‚è€ƒæ¨¡å¼" aria-label="Permalink to â€œå¥–åŠ±ï¼šå‚è€ƒæ¨¡å¼â€">â€‹</a></h2><p>å½“æˆ‘ä»¬çš„æœåŠ¡å™¨å˜å¾—å¤æ‚ï¼Œç±»å‹å˜å¾—å†—ä½™å¹¶æˆä¸ºæ¨¡æ¿ä»£ç æ—¶ï¼Œä½¿ç”¨ <strong>å‚è€ƒæ¨¡å¼</strong> å¯ä»¥æ”¹è¿›å†…è”çš„ Elysia ç±»å‹ã€‚</p><p>ç®€å•åœ°è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„æ¨¡å¼å‘½åï¼Œå¹¶é€šè¿‡åç§°å¼•ç”¨ç±»å‹ã€‚</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia, t } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff add"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;user.sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            username: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            password: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                minLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }) </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }) </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            data: body</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (code) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // Prisma P2002: &quot;Unique constraint failed on the {constraint}&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;P2002&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”¨æˆ·åå¿…é¡»æ˜¯å”¯ä¸€çš„&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            body: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user.sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            body: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                username: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                password: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    minLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }) </span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `ğŸ¦Š Elysia æ­£åœ¨è¿è¡Œäº ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>è¿™ä¸ä½¿ç”¨å†…è”ç›¸åŒï¼Œä½†ä½ åªéœ€å®šä¹‰ä¸€æ¬¡ï¼Œç„¶åé€šè¿‡åç§°å¼•ç”¨æ¨¡å¼ä»¥æ¶ˆé™¤å†—ä½™çš„éªŒè¯ä»£ç ã€‚</p><p>TypeScript å’ŒéªŒè¯ä»£ç ä¼šæŒ‰é¢„æœŸå·¥ä½œã€‚</p><h2 id="å¥–åŠ±-æ–‡æ¡£" tabindex="-1">å¥–åŠ±ï¼šæ–‡æ¡£ <a class="header-anchor" href="#å¥–åŠ±-æ–‡æ¡£" aria-label="Permalink to â€œå¥–åŠ±ï¼šæ–‡æ¡£â€">â€‹</a></h2><p>ä½œä¸ºå¥–åŠ±ï¼ŒElysia çš„ç±»å‹ç³»ç»Ÿä¹Ÿæ˜¯ OpenAPI Schema 3.0 çš„å…¼å®¹ç‰ˆï¼Œè¿™æ„å‘³ç€å®ƒèƒ½å¤Ÿä¸æ”¯æŒ OpenAPI Schema çš„å·¥å…·ï¼ˆå¦‚ Swaggerï¼‰ç”Ÿæˆæ–‡æ¡£ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Elysia Swagger æ’ä»¶ä»¥ä¸€è¡Œä»£ç ç”Ÿæˆ API æ–‡æ¡£ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @elysiajs/swagger</span></span></code></pre></div><p>ç„¶ååªéœ€æ·»åŠ æ’ä»¶ï¼š</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia, t } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { swagger } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@elysiajs/swagger&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">swagger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            db.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                data: body,</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                select: { </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    username: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                } </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (code) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // Prisma P2002: &quot;Unique constraint failed on the {constraint}&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;P2002&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”¨æˆ·åå¿…é¡»æ˜¯å”¯ä¸€çš„&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            body: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                username: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                password: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    minLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }),</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            response: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                id: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                username: t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `ğŸ¦Š Elysia æ­£åœ¨è¿è¡Œäº ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>è¿™å°±æ˜¯åˆ›å»ºä¸€ä¸ªè‰¯å¥½å®šä¹‰çš„ API æ–‡æ¡£æ‰€éœ€çš„ä¸€åˆ‡ã€‚</p><img class="-png" src="/blog/with-prisma/swagger.webp" alt="é€šè¿‡ Elysia ç”Ÿæˆçš„ Swagger æ–‡æ¡£"><p>ç”±äºä¸¥æ ¼å®šä¹‰ç±»å‹çš„æ–‡æ¡£ï¼Œæˆ‘ä»¬å‘ç°ç”±äºä¸åº”è¿”å›ç§å¯†ä¿¡æ¯è€Œæ„å¤–è¿”å›äº† <code>password</code> å­—æ®µã€‚</p><p>å¾—ç›Šäº Elysia çš„ç±»å‹ç³»ç»Ÿï¼Œæˆ‘ä»¬å®šä¹‰å“åº”ä¸åº”åŒ…å« <code>password</code>ï¼Œè¿™ä¼šè‡ªåŠ¨è­¦å‘Šæˆ‘ä»¬ Prisma æŸ¥è¯¢è¿”å›äº†å¯†ç ï¼Œå…è®¸æˆ‘ä»¬æå‰ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬æ— é¡»æ‹…å¿ƒå¯èƒ½ä¼šå¿˜è®° OpenAPI Schema 3.0 çš„è§„èŒƒï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿæœ‰è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹å®‰å…¨ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>detail</code> å®šä¹‰æˆ‘ä»¬çš„è·¯ç”±ç»†èŠ‚ï¼Œå®ƒä¹Ÿéµå¾ª OpenAPI Schema 3.0ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è½»æ¾åˆ›å»ºæ–‡æ¡£ã€‚</p><h2 id="æ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆ" tabindex="-1">æ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆ <a class="header-anchor" href="#æ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆ" aria-label="Permalink to â€œæ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆâ€">â€‹</a></h2><p>åœ¨ Bun å’Œ Elysia çš„æ”¯æŒä¸‹ï¼Œæˆ‘ä»¬è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„å¼€å‘è€…ä½“éªŒæ—¶ä»£ã€‚</p><p>é€šè¿‡ Prismaï¼Œæˆ‘ä»¬å¯ä»¥åŠ é€Ÿä¸æ•°æ®åº“çš„äº¤äº’ï¼ŒElysia åˆ™åŠ é€Ÿäº†æˆ‘ä»¬åœ¨å¼€å‘è€…ä½“éªŒå’Œæ€§èƒ½æ–¹é¢åˆ›å»ºåå° Web æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚</p><blockquote><p>ä¸ä¹‹å·¥ä½œæ˜¯ä¸€ç§ç»å¯¹çš„ä¹è¶£ã€‚</p></blockquote><p>Elysia æ­£åœ¨åŠªåŠ›åˆ›å»ºä¸€ä¸ªæ›´å¥½çš„å¼€å‘è€…ä½“éªŒçš„æ–°æ ‡å‡†ï¼Œä»¥ Bun æ„å»ºé«˜æ€§èƒ½çš„ TypeScript æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿä¸ Go å’Œ Rust çš„æ€§èƒ½ç›¸åŒ¹é…ã€‚</p><p>å¦‚æœä½ åœ¨å¯»æ‰¾å­¦ä¹  Bun çš„èµ·ç‚¹ï¼Œå¯ä»¥è€ƒè™‘çœ‹çœ‹ Elysia ï¼Œç‰¹åˆ«æ˜¯åœ¨ <a href="/eden/overview.html">ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨</a> æ–¹é¢ï¼Œç±»ä¼¼äº tRPCï¼Œä½†åŸºäº REST æ ‡å‡†ï¼Œè€Œæ— éœ€ä»»ä½•ä»£ç ç”Ÿæˆã€‚</p><p>å¦‚æœä½ å¯¹ Elysia æ„Ÿå…´è¶£ï¼Œæ¬¢è¿æŸ¥çœ‹æˆ‘ä»¬çš„ <a href="https://discord.gg/eaFJ2KDJck" target="_blank" rel="noreferrer">Discord æœåŠ¡å™¨</a> æˆ–æŸ¥çœ‹ <a href="https://github.com/elysiajs/elysia" target="_blank" rel="noreferrer">Elysia çš„ GitHub</a></p><!--]--></main><a href="/" class="inline-flex items-center gap-2 text-base !text-gray-500 dark:!text-gray-400 !no-underline hover:!text-pink-500 focus:!text-pink-500 mt-2 mr-auto"><span>â†</span> Elysia: Ergonomic Framework for Humans </a></article><!----><!--]--></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><!----><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-3c637f39>æœ€åæ›´æ–°äº: <time datetime="2026-01-11T07:34:37.000Z" data-v-3c637f39></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/at-glance.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>ä¸‹ä¸€é¡µ</span><span class="title" data-v-e257564d>æ¦‚è§ˆ</span><!--]--></a></div></nav></footer><!--[--><!--[--><!--[--><div className="relative mt-4 w-full rounded-md border border-gray-950/5 p-2 dark:border-white/10"><a href="https://www.rainyun.com/mm_?s=zhcndoc" target="_blank" className="absolute inset-0 z-10" data-umami-event="ads-rainyun"></a><div className="flex w-full justify-center"><img src="/ads/rainyun_2.png" className="w-full rounded-sm"></div></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"at-glance.md\":\"cWzR3aEv\",\"blog.md\":\"BUWTAt4q\",\"blog_elysia-02.md\":\"HcaF_VLR\",\"blog_elysia-03.md\":\"CoYxt_iD\",\"blog_elysia-04.md\":\"CgZIxbT3\",\"blog_elysia-05.md\":\"cB-sDRd7\",\"blog_elysia-06.md\":\"DSUtJZcP\",\"blog_elysia-07.md\":\"DKoM3KRH\",\"blog_elysia-08.md\":\"CJusyZv2\",\"blog_elysia-10.md\":\"DxpwI3_c\",\"blog_elysia-11.md\":\"CNM7X7Mf\",\"blog_elysia-12.md\":\"CZj_W4OZ\",\"blog_elysia-13.md\":\"CaZy0WoQ\",\"blog_elysia-14.md\":\"D39ggO1l\",\"blog_elysia-supabase.md\":\"CrNOi5Gh\",\"blog_elysia-v-encore.md\":\"5FFmj1m_\",\"blog_openapi-type-gen.md\":\"BOaQGPpN\",\"blog_with-prisma.md\":\"CgRVvmDH\",\"eden_fetch.md\":\"84mMicXY\",\"eden_installation.md\":\"BI5bjmX_\",\"eden_overview.md\":\"CCwYNV7P\",\"eden_test.md\":\"DQ-_pchS\",\"eden_treaty_config.md\":\"CkFgVn8n\",\"eden_treaty_legacy.md\":\"BvCBfsGv\",\"eden_treaty_overview.md\":\"B1EaKzPx\",\"eden_treaty_parameters.md\":\"BYBDGS9x\",\"eden_treaty_response.md\":\"CuOYLCmT\",\"eden_treaty_unit-test.md\":\"N57AzLyj\",\"eden_treaty_websocket.md\":\"DigpWSGk\",\"essential_best-practice.md\":\"Cd1qIPWA\",\"essential_handler.md\":\"BU2sz3EC\",\"essential_life-cycle.md\":\"DG7LrGyP\",\"essential_plugin.md\":\"Crq4sAKe\",\"essential_route.md\":\"BoZUieSG\",\"essential_validation.md\":\"D59EbSJ3\",\"illust.md\":\"C3vSwf7R\",\"index.md\":\"N_HVpFuD\",\"integrations_ai-sdk.md\":\"HIS5SNa7\",\"integrations_astro.md\":\"qAkBEk-c\",\"integrations_better-auth.md\":\"NRsnJcap\",\"integrations_cheat-sheet.md\":\"CP9eMGXo\",\"integrations_cloudflare-worker.md\":\"BEbWzrlo\",\"integrations_deno.md\":\"BfeIoiNI\",\"integrations_drizzle.md\":\"q6r6Pvsx\",\"integrations_expo.md\":\"BRTea-_v\",\"integrations_netlify.md\":\"BJ7oZ1K6\",\"integrations_nextjs.md\":\"Dgau1vaw\",\"integrations_node.md\":\"C2hPMDDz\",\"integrations_nuxt.md\":\"BpwVB95s\",\"integrations_prisma.md\":\"qQZwfF6G\",\"integrations_react-email.md\":\"DViI09yT\",\"integrations_sveltekit.md\":\"DQ9DHS--\",\"integrations_tanstack-start.md\":\"DkmTVvZ4\",\"integrations_vercel.md\":\"Co_zjnV5\",\"key-concept.md\":\"Dv_U434E\",\"migrate_from-express.md\":\"QBVXowWA\",\"migrate_from-fastify.md\":\"DjxSchX_\",\"migrate_from-hono.md\":\"Dw0HGOww\",\"migrate_from-trpc.md\":\"D_fU-iI3\",\"migrate_index.md\":\"CN05lqci\",\"patterns_configuration.md\":\"ByogGe3j\",\"patterns_cookie.md\":\"Bm-71ePa\",\"patterns_deploy.md\":\"B8v-XMGl\",\"patterns_error-handling.md\":\"Bn3i_ZLU\",\"patterns_extends-context.md\":\"BkhM9bQC\",\"patterns_fullstack-dev-server.md\":\"CHLwDeVL\",\"patterns_macro.md\":\"C6ZFQXmU\",\"patterns_mount.md\":\"TDg2Ad2w\",\"patterns_openapi.md\":\"BDdUn0Hv\",\"patterns_opentelemetry.md\":\"DISHe3Rz\",\"patterns_trace.md\":\"C2kODuLQ\",\"patterns_typebox.md\":\"BPf8PaCO\",\"patterns_typescript.md\":\"DmbikXBb\",\"patterns_unit-test.md\":\"BhCCQad4\",\"patterns_websocket.md\":\"CpSQJgR8\",\"playground_index.md\":\"DZT0B_6C\",\"playground_preview.md\":\"C3X4aVtx\",\"plugins_bearer.md\":\"Cm0j5JHp\",\"plugins_cors.md\":\"CiKZYicw\",\"plugins_cron.md\":\"Dwl7_TU7\",\"plugins_graphql-apollo.md\":\"Dcf4SZjK\",\"plugins_graphql-yoga.md\":\"BC6JAVMx\",\"plugins_html.md\":\"Cf7SVbP9\",\"plugins_jwt.md\":\"BN9QkQRo\",\"plugins_openapi.md\":\"DHGoujnC\",\"plugins_opentelemetry.md\":\"Dv7ODqSK\",\"plugins_overview.md\":\"5d1C94KL\",\"plugins_server-timing.md\":\"t-wITrcD\",\"plugins_static.md\":\"CM8Oif_y\",\"plugins_swagger.md\":\"CSbs4ssw\",\"quick-start.md\":\"CDc3RZ5I\",\"table-of-content.md\":\"CWDosMkg\",\"tutorial_features_end-to-end-type-safety_index.md\":\"2JLeosg4\",\"tutorial_features_mount_index.md\":\"BlJeCcuy\",\"tutorial_features_openapi_index.md\":\"DNxBUEkD\",\"tutorial_features_unit-test_index.md\":\"UKieC_cs\",\"tutorial_getting-started_encapsulation_index.md\":\"ClmXlQAS\",\"tutorial_getting-started_guard_index.md\":\"B9z-gFFD\",\"tutorial_getting-started_handler-and-context_index.md\":\"CFzIix7V\",\"tutorial_getting-started_life-cycle_index.md\":\"BrAYcjL4\",\"tutorial_getting-started_plugin_index.md\":\"B_PH2v9n\",\"tutorial_getting-started_status-and-headers_index.md\":\"XnQJkKG-\",\"tutorial_getting-started_validation_index.md\":\"D-WWHqe6\",\"tutorial_getting-started_your-first-route_index.md\":\"BAkY6O0n\",\"tutorial_index.md\":\"Crxrxkdp\",\"tutorial_patterns_cookie_index.md\":\"BfZemszS\",\"tutorial_patterns_error-handling_index.md\":\"CJ3G1BeR\",\"tutorial_patterns_extends-context_index.md\":\"8CzvweM3\",\"tutorial_patterns_macro_index.md\":\"DqbvAcGH\",\"tutorial_patterns_standalone-schema_index.md\":\"DdVHiMv1\",\"tutorial_patterns_validation-error_index.md\":\"D4H-Pa3e\",\"tutorial_whats-next.md\":\"3FRzFYsT\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Elysia ä¸­æ–‡æ–‡æ¡£\",\"titleTemplate\":\":title - Elysia ä¸­æ–‡æ–‡æ¡£\",\"description\":\"é€‚åˆäººä½“å·¥ç¨‹å­¦çš„æ¡†æ¶ï¼Œç”± Bun å¼ºåŒ–çš„ TypeScript æ¡†æ¶ï¼Œå…·æœ‰ç«¯åˆ°ç«¯çš„ç±»å‹å®‰å…¨ã€ç»Ÿä¸€çš„ç±»å‹ç³»ç»Ÿå’Œå“è¶Šçš„å¼€å‘è€…ä½“éªŒã€‚\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\",\"options\":{\"detailedView\":true,\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"æœç´¢æ–‡æ¡£\",\"buttonAriaLabel\":\"æœç´¢æ–‡æ¡£\"},\"modal\":{\"noResultsText\":\"æ— æ³•æ‰¾åˆ°ç›¸å…³ç»“æœ\",\"resetButtonTitle\":\"æ¸…é™¤æŸ¥è¯¢æ¡ä»¶\",\"footer\":{\"selectText\":\"é€‰æ‹©\",\"navigateText\":\"åˆ‡æ¢\"}}}}}}},\"logo\":\"/assets/elysia.svg\",\"nav\":[{\"text\":\"æ–‡æ¡£\",\"link\":\"/table-of-content\"},{\"text\":\"åšå®¢\",\"link\":\"/blog\"},{\"text\":\"Illust\",\"link\":\"/illust\"}],\"sidebar\":[{\"text\":\"å…¥é—¨\",\"collapsed\":true,\"items\":[{\"text\":\"æ¦‚è§ˆ\",\"link\":\"/at-glance\"},{\"text\":\"å¿«é€Ÿå¼€å§‹\",\"link\":\"/quick-start\"},{\"text\":\"ç›®å½•\",\"link\":\"/table-of-content\"},{\"text\":\"å…³é”®æ¦‚å¿µ\",\"link\":\"/key-concept\"}]},{\"text\":\"åŸºç¡€\",\"collapsed\":true,\"items\":[{\"text\":\"è·¯ç”±\",\"link\":\"/essential/route\"},{\"text\":\"å¤„ç†ç¨‹åº\",\"link\":\"/essential/handler\"},{\"text\":\"æ’ä»¶\",\"link\":\"/essential/plugin\"},{\"text\":\"ç”Ÿå‘½å‘¨æœŸ\",\"link\":\"/essential/life-cycle\"},{\"text\":\"éªŒè¯\",\"link\":\"/essential/validation\"},{\"text\":\"æœ€ä½³å®è·µ\",\"link\":\"/essential/best-practice\"}]},{\"text\":\"æ¨¡å¼\",\"collapsed\":true,\"items\":[{\"text\":\"é…ç½®\",\"link\":\"/patterns/configuration\"},{\"text\":\"Cookie\",\"link\":\"/patterns/cookie\"},{\"text\":\"ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²\",\"link\":\"/patterns/deploy\"},{\"text\":\"é”™è¯¯å¤„ç†\",\"link\":\"/patterns/error-handling\"},{\"text\":\"æ‰©å±•ä¸Šä¸‹æ–‡\",\"link\":\"/patterns/extends-context\"},{\"text\":\"Fullstack Dev Server\",\"link\":\"/patterns/fullstack-dev-server\"},{\"text\":\"Macro\",\"link\":\"/patterns/macro\"},{\"text\":\"æŒ‚è½½\",\"link\":\"/patterns/mount\"},{\"text\":\"OpenAPI\",\"link\":\"/patterns/openapi\"},{\"text\":\"OpenTelemetry\",\"link\":\"/patterns/opentelemetry\"},{\"text\":\"Trace\",\"link\":\"/patterns/trace\"},{\"text\":\"TypeBox (Elysia.t)\",\"link\":\"/patterns/typebox\"},{\"text\":\"TypeScript\",\"link\":\"/patterns/typescript\"},{\"text\":\"å•å…ƒæµ‹è¯•\",\"link\":\"/patterns/unit-test\"},{\"text\":\"WebSocket\",\"link\":\"/patterns/websocket\"}]},{\"text\":\"Eden\",\"collapsed\":true,\"items\":[{\"text\":\"æ¦‚è¿°\",\"link\":\"/eden/overview.md\"},{\"text\":\"å®‰è£…\",\"link\":\"/eden/installation.md\"},{\"text\":\"Eden åè®®\",\"collapsed\":false,\"items\":[{\"text\":\"æ¦‚è¿°\",\"link\":\"/eden/treaty/overview\"},{\"text\":\"å‚æ•°\",\"link\":\"/eden/treaty/parameters\"},{\"text\":\"å“åº”\",\"link\":\"/eden/treaty/response\"},{\"text\":\"WebSocket\",\"link\":\"/eden/treaty/websocket\"},{\"text\":\"é…ç½®\",\"link\":\"/eden/treaty/config\"},{\"text\":\"å•å…ƒæµ‹è¯•\",\"link\":\"/eden/treaty/unit-test\"},{\"text\":\"æ—§ç‰ˆï¼ˆåè®® 1ï¼‰\",\"link\":\"/eden/treaty/legacy.md\"}]},{\"text\":\"Eden Fetch\",\"link\":\"/eden/fetch.md\"}]},{\"text\":\"æ’ä»¶\",\"collapsed\":true,\"items\":[{\"text\":\"æ¦‚è¿°\",\"link\":\"/plugins/overview\"},{\"text\":\"Bearer\",\"link\":\"/plugins/bearer\"},{\"text\":\"CORS\",\"link\":\"/plugins/cors\"},{\"text\":\"Cron\",\"link\":\"/plugins/cron\"},{\"text\":\"GraphQL Apollo\",\"link\":\"/plugins/graphql-apollo\"},{\"text\":\"GraphQL Yoga\",\"link\":\"/plugins/graphql-yoga\"},{\"text\":\"HTML\",\"link\":\"/plugins/html\"},{\"text\":\"JWT\",\"link\":\"/plugins/jwt\"},{\"text\":\"OpenAPI\",\"link\":\"/plugins/openapi\"},{\"text\":\"OpenTelemetry\",\"link\":\"/plugins/opentelemetry\"},{\"text\":\"æœåŠ¡å™¨è®¡æ—¶\",\"link\":\"/plugins/server-timing\"},{\"text\":\"é™æ€\",\"link\":\"/plugins/static\"}]},{\"text\":\"æ¯”è¾ƒ\",\"collapsed\":true,\"items\":[{\"text\":\"Express\",\"link\":\"/migrate/from-express\"},{\"text\":\"Fastify\",\"link\":\"/migrate/from-fastify\"},{\"text\":\"Hono\",\"link\":\"/migrate/from-hono\"},{\"text\":\"tRPC\",\"link\":\"/migrate/from-trpc\"}]},{\"text\":\"é›†æˆ\",\"collapsed\":true,\"items\":[{\"text\":\"AI SDK\",\"link\":\"/integrations/ai-sdk\"},{\"text\":\"Astro\",\"link\":\"/integrations/astro\"},{\"text\":\"Better Auth\",\"link\":\"/integrations/better-auth\"},{\"text\":\"Cloudflare Worker\",\"link\":\"/integrations/cloudflare-worker\"},{\"text\":\"Deno\",\"link\":\"/integrations/deno\"},{\"text\":\"Drizzle\",\"link\":\"/integrations/drizzle\"},{\"text\":\"Expo\",\"link\":\"/integrations/expo\"},{\"text\":\"Netlify\",\"link\":\"/integrations/netlify\"},{\"text\":\"Nextjs\",\"link\":\"/integrations/nextjs\"},{\"text\":\"Node.js\",\"link\":\"/integrations/node\"},{\"text\":\"Nuxt\",\"link\":\"/integrations/nuxt\"},{\"text\":\"Prisma\",\"link\":\"/integrations/prisma\"},{\"text\":\"React Email\",\"link\":\"/integrations/react-email\"},{\"text\":\"SvelteKit\",\"link\":\"/integrations/sveltekit\"},{\"text\":\"Tanstack Start\",\"link\":\"/integrations/tanstack-start\"},{\"text\":\"Vercel\",\"link\":\"/integrations/vercel\"}]}],\"outline\":{\"level\":[2,3],\"label\":\"ç›®å½•\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/elysiajs/elysia\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/elysiajs\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/eaFJ2KDJck\"}],\"editLink\":{\"text\":\"åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µé¢\",\"pattern\":\"https://github.com/zhcndoc/elysia/tree/main/docs/:path\"},\"docFooter\":{\"prev\":\"ä¸Šä¸€é¡µ\",\"next\":\"ä¸‹ä¸€é¡µ\"},\"lastUpdated\":{\"text\":\"æœ€åæ›´æ–°äº\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"langMenuLabel\":\"å¤šè¯­è¨€\",\"returnToTopLabel\":\"å›åˆ°é¡¶éƒ¨\",\"sidebarMenuLabel\":\"èœå•\",\"darkModeSwitchLabel\":\"ä¸»é¢˜\",\"lightModeSwitchTitle\":\"åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼\",\"darkModeSwitchTitle\":\"åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼\"},\"locales\":{\"root\":{\"label\":\"ç®€ä½“ä¸­æ–‡\",\"lang\":\"zh\"},\"en\":{\"label\":\"English\",\"lang\":\"en\",\"link\":\"https://elysiajs.com/\"}},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>